(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08596dba"],{"28bf":function(t,i,e){"use strict";e("c6b61")},"96ec":function(t,i,e){"use strict";var s=function(){var t=this,i=t._self._c;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"dialog"},[i("div",{staticClass:"dialogContent"},[t._t("default")],2)])},o=[],a={name:"ConfirmDialog",props:["show"]},n=a,l=(e("9984"),e("2877")),r=Object(l["a"])(n,s,o,!1,null,"ba3e2db0",null);i["a"]=r.exports},9984:function(t,i,e){"use strict";e("9eea")},"9eea":function(t,i,e){},bda7:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t._self._c;return i("Layout",[i("main",{staticStyle:{"flex-grow":"1"}},[t.showConfirmDialog?i("ConfirmDialog",{staticClass:"modal",attrs:{show:t.showConfirmDialog}},[i("div",[i("div",{staticClass:"dialogTitle"},[t._v("XÁC NHẬN")]),i("div",{staticStyle:{color:"#9d6b54","text-align":"center"}},[t._v("Xác nhận hủy yêu cẩu trao đổi sách!")]),i("div",{staticClass:"dialogGroupBtn"},[i("button",{staticClass:"dialogBtn",on:{click:t.cancelConfirmDialog}},[t._v("Hủy")]),i("button",{staticClass:"dialogBtn",on:{click:t.HandleConfirm}},[t._v("Xác nhận")])])])]):t._e(),i("b-alert",{staticStyle:{position:"absolute",right:"0","z-index":"999999"},attrs:{show:t.dismissCountDown,variant:"success"},on:{dismissed:function(i){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" Hủy yêu cầu trao đổi sách - Thành công! ")]),i("div",{staticClass:"MR"},[i("div",{staticClass:"containerMR"},[i("div",{staticClass:"left-contentMR"},[i("SideBar_Personal")],1),i("div",{staticClass:"right-contentMR"},[i("div",{staticClass:"titleMR"},[t._v("Danh sách yêu cầu trao đổi")]),i("hr"),i("b-skeleton-wrapper",{attrs:{loading:t.loading},scopedSlots:t._u([{key:"loading",fn:function(){return[i("div",{staticClass:"gridMR"},t._l(4,(function(t){return i("div",{key:t,staticClass:"itemMR"},[i("div",{staticClass:"item-bookMR"},[i("b-card",{staticStyle:{height:"370px",width:"290px"},attrs:{"no-body":"","img-top":""}},[i("b-skeleton-img",{attrs:{"card-img":"top",aspect:"3:1",height:"270px"}}),i("b-card",{staticStyle:{height:"105px"}},[i("b-skeleton",{attrs:{animation:"wave",width:"85%"}}),i("b-skeleton",{attrs:{animation:"wave",width:"55%"}}),i("b-skeleton",{attrs:{animation:"wave",width:"70%"}})],1)],1),i("b-card",{staticStyle:{height:"370px",width:"290px"},attrs:{"no-body":"","img-top":""}},[i("b-skeleton-img",{attrs:{"card-img":"top",aspect:"3:1",height:"270px"}}),i("b-card",{staticStyle:{height:"105px"}},[i("b-skeleton",{attrs:{animation:"wave",width:"85%"}}),i("b-skeleton",{attrs:{animation:"wave",width:"55%"}}),i("b-skeleton",{attrs:{animation:"wave",width:"70%"}})],1)],1)],1)])})),0)]},proxy:!0}])},[0!=t.totalRequest?i("div",{staticClass:"gridMR"},t._l(t.listRequest,(function(e){return i("div",{key:e.id,staticClass:"itemMR"},[i("div",{staticClass:"item-bookMR"},[i("div",[i("div",{staticStyle:{color:"#9d6b54","font-weight":"600","text-align":"center"}},[t._v("Sách của tôi")]),i("router-link",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.bottom",value:e.bookOffer.title,expression:"item.bookOffer.title",modifiers:{hover:!0,bottom:!0}}],attrs:{to:{name:"BookDetail",query:{id:e.bookOfferId}}}},[i("img",{staticClass:"imgMR",attrs:{src:e.bookOffer.image}})]),i("div",{staticClass:"infoMR"},[i("div",{staticClass:"book-titleMR"},[t._v(t._s(e.bookOffer.title))])])],1),i("div",[i("div",{staticStyle:{color:"#9d6b54","font-weight":"600","text-align":"center"}},[t._v("Sách trao đổi")]),i("router-link",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.bottom",value:e.book.title,expression:"item.book.title",modifiers:{hover:!0,bottom:!0}}],attrs:{to:{name:"BookDetail",query:{id:e.bookId}}}},[i("img",{staticClass:"imgMR",attrs:{src:e.book.image}})]),i("div",{staticClass:"infoMR"},[i("div",{staticClass:"book-titleMR"},[t._v(t._s(e.book.title))])])],1)]),i("button",{staticClass:"activeMR",on:{click:function(i){return t.HandleCancel(e.id)}}},[t._v("Hủy")])])})),0):i("div",{staticClass:"noBook"},[t._v("Danh sách trống!")])]),0!=t.totalRequest?i("div",{staticClass:"pagingMR"},[i("b-pagination",{staticClass:"page-numberMR",attrs:{"total-rows":t.totalRequest,"per-page":4},on:{input:t.getMyRequest},scopedSlots:t._u([{key:"first-text",fn:function(){return[i("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹‹")])]},proxy:!0},{key:"prev-text",fn:function(){return[i("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹")])]},proxy:!0},{key:"next-text",fn:function(){return[i("span",{staticStyle:{color:"#9D6B54"}},[t._v("›")])]},proxy:!0},{key:"last-text",fn:function(){return[i("span",{staticStyle:{color:"#9D6B54"}},[t._v("››")])]},proxy:!0},{key:"page",fn:function({page:e,active:s}){return[s?i("b",{staticStyle:{color:"white"}},[t._v(t._s(e)+" ")]):i("b",{staticStyle:{color:"#9D6B54"}},[t._v(t._s(e))])]}}],null,!1,1684021845),model:{value:t.page,callback:function(i){t.page=i},expression:"page"}})],1):t._e()],1)])])],1)])},o=[],a=(e("14d9"),e("2314")),n=e("ebad"),l=e("cde1"),r=e("fbfb"),c=e("48ac"),d=e.n(c),u=e("96ec"),h={name:"MyRequests",components:{SideBar_Personal:a["a"],Layout:n["a"],ConfirmDialog:u["a"]},data(){return{dismissSecs:5,dismissCountDown:0,showConfirmDialog:!1,listRequest:"",totalRequest:"",loading:!1,userByToken:"",userId:"",tmpId:"",page:1}},created(){this.$cookies.get("token")||this.$router.push({name:"404Page"}),this.getMyRequest(1)},methods:{getMyRequest(t){this.loading=!0;let i=this.$cookies.get("token");this.userByToken=d.a.decode(i,"utf-8");const e=r["i"].LIST_REQUEST_SEND+"?page="+t;l["a"].callApi(e,"POST",{userId:this.userByToken.UserId}).then(t=>{this.listRequest=t.data.data,this.totalRequest=t.data.numberOfRecords,this.loading=!1}).catch(()=>{})},HandleCancel(t){this.tmpId=t,this.showConfirmDialog=!0},cancelConfirmDialog(){this.showConfirmDialog=!1},HandleConfirm(){window.scroll(0,0),this.loading=!0;let t=this.$cookies.get("token");this.userByToken=d.a.decode(t,"utf-8");const i=r["k"].CANCEL_REQUEST+this.tmpId;l["a"].callApi(i,"PUT",{userId:this.userByToken.UserId}).then(t=>{"SUCCESS"===t.data.message&&(this.getMyRequest(1),this.dismissCountDown=this.dismissSecs),this.showConfirmDialog=!1}).catch(()=>{})},countDownChanged(t){this.dismissCountDown=t}}},g=h,v=(e("28bf"),e("2877")),m=Object(v["a"])(g,s,o,!1,null,null,null);i["default"]=m.exports},c6b61:function(t,i,e){}}]);
//# sourceMappingURL=chunk-08596dba.058ca04c.js.map