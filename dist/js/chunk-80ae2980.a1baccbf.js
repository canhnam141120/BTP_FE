(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-80ae2980"],{"041e":function(t,a,e){},"0c7c":function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"dashboard"},[a("div",{staticClass:"countUser"},[a("Icon",{staticClass:"iconDB",attrs:{icon:"mdi:user-group"}}),a("div",[a("div",{staticClass:"quarter"},[t._v(" Tổng số người dùng")]),a("label",{staticClass:"numberDB"},[t._v(t._s(t.countUser)+" tài khoản")])])],1),a("div",{staticClass:"countBook"},[a("Icon",{staticClass:"iconDB",attrs:{icon:"raphael:books"}}),a("div",[a("div",{staticClass:"quarter"},[t._v("Tổng số sách trên sàn")]),a("label",{staticClass:"numberDB"},[t._v(t._s(t.countBook)+" cuốn")])])],1),a("div",{staticClass:"countTrans"},[a("Icon",{staticClass:"iconDB",attrs:{icon:"game-icons:card-exchange"}}),a("div",[a("div",{staticClass:"quarter"},[t._v("Tổng số GD trong quý")]),a("label",{staticClass:"numberDB"},[t._v(t._s(t.countTrans)+" giao dịch")])])],1),a("div",{staticClass:"totalMoney"},[a("Icon",{staticClass:"iconDB",attrs:{icon:"ri:money-dollar-circle-fill"}}),a("div",[a("div",{staticClass:"quarter"},[t._v("Doanh thu theo quý")]),a("label",{staticClass:"numberDB"},[t._v(t._s(t.countMoney.toLocaleString())+"đ")])])],1)])},o=[],i=e("cde1"),n=e("5ea9"),c=e("fbfb"),l={name:"Dashboard",components:{Icon:n["a"]},data(){return{countBook:0,countUser:0,countMoney:0,countTrans:0}},created(){this.countBookAndUser(),this.countDashboard()},methods:{countBookAndUser(){i["a"].callApi(c["d"].DASHBOARD,"GET",{}).then(t=>{this.countBook=t.data.data,this.countUser=t.data.numberOfRecords}).catch(()=>{})},countDashboard(){var t=new Date,a=Math.floor((t.getMonth()+3)/3);i["a"].callApi(c["h"].DASHBOARD,"POST",{id:a}).then(t=>{this.countMoney=t.data.data,this.countTrans=t.data.numberOfRecords}).catch(()=>{})}}},r=l,d=(e("2825"),e("2877")),u=Object(d["a"])(r,s,o,!1,null,"69e4971f",null);a["a"]=u.exports},"0e03":function(t,a,e){"use strict";e("bba4")},1861:function(t,a,e){"use strict";e("a45d")},2825:function(t,a,e){"use strict";e("65a8")},"482f":function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"dialog"},[a("div",{staticClass:"dialogContent"},[a("b-button",{staticClass:"spinner",attrs:{disabled:""}},[a("b-spinner")],1)],1)])},o=[],i={name:"LoadingDialog",props:["show","cancel","confirm"]},n=i,c=(e("ef67"),e("2877")),l=Object(c["a"])(n,s,o,!1,null,"764a15da",null);a["a"]=l.exports},"65a8":function(t,a,e){},"686e":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"mlBook"},[a("LoadingDialog",{directives:[{name:"show",rawName:"v-show",value:t.spinner,expression:"spinner"}],staticStyle:{"z-index":"1"}}),a("Dashboard"),a("div",{staticClass:"row"},[t.showDialogBD?a("BookDetailDialog",{staticClass:"modal",attrs:{show:t.showDialogBD,cancel:t.cancel}},[a("div",{staticClass:"topVRN"},[a("div",{staticClass:"left"},[a("img",{staticClass:"imgBD",attrs:{src:t.book.image}})]),a("div",{staticClass:"right"},[a("label",{staticClass:"titleBD"},[a("strong",[t._v(t._s(t.book.title))])]),a("div",{staticClass:"contentRight"},[a("div",{staticClass:"bookInfoBD"},[a("div",[t._v("Người đăng: "),a("span",[t._v(t._s(t.book.user.fullname))])]),a("div",[t._v("Ngày đăng: "),a("span",[t._v(t._s(t._f("formatDate")(t.book.postedDate)))])]),a("div",[t._v("Thể loại: "),a("span",[t._v(t._s(t.book.category.name))])]),a("div",[t._v("Tác giả: "),a("span",[t._v(t._s(t.book.author))])]),a("div",[t._v("Nhà xuất bản: "),a("span",[t._v(t._s(t.book.publisher))])]),a("div",[t._v("Năm xuất bản: "),a("span",[t._v(t._s(t.book.year))])]),a("div",[t._v("Ngôn ngữ: "),a("span",[t._v(t._s(t.book.language))])]),a("div",[t._v("Số trang: "),a("span",[t._v(t._s(t.book.numberOfPages))])]),a("div",[t._v("Trọng lượng: "),a("span",[t._v(t._s(t.book.weight)+"g")])]),a("div",[t._v("Thời gian giao dịch: "),a("span",[t._v(t._s(t.book.numberOfDays)+" ngày")])]),a("div",[t._v("Giá bìa: "),a("span",{staticClass:"cover"},[t._v(t._s(t.book.coverPrice.toLocaleString())+"đ")])]),a("div",[t._v("Phí đặt cọc: "),a("span",{staticClass:"deposit"},[t._v(t._s(t.book.depositPrice.toLocaleString())+"đ")])]),t.book.isRent?a("div",[t._v("Phí thuê: "),a("span",{staticClass:"rent"},[t._v(t._s(t.book.rentFee.toLocaleString())+"đ")])]):t._e(),a("div",[t._v("Tình trạng: "+t._s(t.book.statusBook))])])])])])]):t._e(),t.showDialogFB?a("FeedbackDialog",{staticClass:"modal",attrs:{show:t.showDialogFB,cancel:t.cancel}},[0!=t.totalFeedbacks?a("div",{staticClass:"bookdetail-feedback"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("td",[t._v("Mã đánh giá")]),a("td",[t._v("Mã người đánh giá")]),a("td",[t._v("Nội dung")]),a("td",[t._v("Ngày")]),a("td")])]),t._l(t.listFeedbacks,(function(e){return a("tbody",{key:e.id},[a("tr",[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.userId))]),a("td",[t._v(t._s(e.content))]),a("td",[t._v(t._s(t._f("format")(e.createdDate)))]),a("td",[a("button",{staticClass:"au-btn au-btn-icon au-btn--brown au-btn--small",on:{click:function(a){return t.HandleDelete(e.id,e.bookId)}}},[t._v("Xoá")])])])])}))],2)]):a("div",{staticClass:"bookdetail-feedback"},[a("div",{staticClass:"no-feedback"},[t._v("Chưa có đánh giá, bình luận!")])])]):t._e(),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"user-data m-b-30"},[a("div",{staticClass:"titleMB"},[t._v("QUẢN LÝ SÁCH")]),a("div",{staticClass:"search-book"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"selectCss",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.filter=a.target.multiple?e:e[0]},function(a){return t.onchange(a)}]}},t._l(t.listFilter,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:"Nhập tên sản phẩm"},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value)}}}),a("button",{on:{click:t.HandleSearch}},[t._v("Tìm")])])]),a("div",{staticClass:"table-responsive table-data"},[a("table",{staticClass:"table"},[t._m(0),t._l(t.listBooks,(function(e){return a("tbody",{key:e.id},[a("tr",[a("td",{staticStyle:{"padding-left":"12px"}},[a("button",{staticClass:"tableBtnAction",on:{click:function(a){return t.openDialogBD(e.id)}}},[a("Icon",{attrs:{icon:"ic:baseline-remove-red-eye"}})],1)]),a("td",[a("img",{attrs:{src:e.image,height:"90px",width:"65px"}})]),a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.user.fullname))]),a("td",{staticStyle:{"max-width":"300px"}},[t._v(t._s(e.title))]),a("td",[t._v(t._s(e.coverPrice.toLocaleString())+"đ")]),a("td",[t._v(t._s(e.depositPrice.toLocaleString())+"đ")]),a("td",[t._v(t._s(t._f("formatDate")(e.postedDate)))]),"Approved"==e.status?a("td",[a("span",{staticClass:"role approved"},[t._v("ĐÃ DUYỆT")])]):t._e(),"Denied"==e.status?a("td",[a("span",{staticClass:"role denied"},[t._v("ĐÃ HỦY")])]):t._e(),"Waiting"==e.status?a("td",[a("span",{staticClass:"role waiting"},[t._v("ĐANG ĐỢI")])]):t._e(),"Waiting"==e.status?a("td",[a("button",{staticClass:"tableBtnAction",on:{click:function(a){return t.HandleApproved(e.id)}}},[a("Icon",{attrs:{icon:"material-symbols:check-box-rounded"}})],1),a("button",{staticClass:"tableBtnAction",on:{click:function(a){return t.HandleDenied(e.id)}}},[a("Icon",{attrs:{icon:"mdi:cancel-box"}})],1)]):t._e(),"Approved"==e.status?a("td",[a("button",{staticStyle:{"font-size":"30px",cursor:"not-allowed"},attrs:{disabled:""}},[a("Icon",{attrs:{icon:"material-symbols:check-box-rounded"}})],1),a("button",{staticClass:"tableBtnAction",on:{click:function(a){return t.HandleDenied(e.id)}}},[a("Icon",{attrs:{icon:"mdi:cancel-box"}})],1)]):t._e(),"Denied"==e.status?a("td",[a("button",{staticClass:"tableBtnAction",on:{click:function(a){return t.HandleApproved(e.id)}}},[a("Icon",{attrs:{icon:"material-symbols:check-box-rounded"}})],1),a("button",{staticStyle:{"font-size":"30px",cursor:"not-allowed"},attrs:{disabled:""}},[a("Icon",{attrs:{icon:"mdi:cancel-box"}})],1)]):t._e(),a("td",{staticStyle:{"padding-left":"18px"}},[a("button",{staticClass:"tableBtnAction",on:{click:function(a){return t.openDialogFB(e.id)}}},[a("Icon",{attrs:{icon:"ic:baseline-remove-red-eye"}})],1)])])])}))],2),a("div",{staticClass:"paging-book"},[""==t.filter?a("b-pagination",{staticClass:"page-number",attrs:{"total-rows":t.totalBook,"per-page":10},on:{input:t.getBooksAll},scopedSlots:t._u([{key:"first-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹‹")])]},proxy:!0},{key:"prev-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹")])]},proxy:!0},{key:"next-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("›")])]},proxy:!0},{key:"last-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("››")])]},proxy:!0},{key:"page",fn:function({page:e,active:s}){return[s?a("b",{staticStyle:{color:"white"}},[t._v(t._s(e)+" ")]):a("b",{staticStyle:{color:"#9D6B54"}},[t._v(t._s(e))])]}}],null,!1,1684021845),model:{value:t.page,callback:function(a){t.page=a},expression:"page"}}):t._e(),"Tất Cả"==t.filter?a("b-pagination",{staticClass:"page-number",attrs:{"total-rows":t.totalBook,"per-page":10},on:{input:t.getBooksAll},scopedSlots:t._u([{key:"first-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹‹")])]},proxy:!0},{key:"prev-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹")])]},proxy:!0},{key:"next-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("›")])]},proxy:!0},{key:"last-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("››")])]},proxy:!0},{key:"page",fn:function({page:e,active:s}){return[s?a("b",{staticStyle:{color:"white"}},[t._v(t._s(e)+" ")]):a("b",{staticStyle:{color:"#9D6B54"}},[t._v(t._s(e))])]}}],null,!1,1684021845),model:{value:t.page,callback:function(a){t.page=a},expression:"page"}}):t._e(),"Đã Duyệt"==t.filter?a("b-pagination",{staticClass:"page-number",attrs:{"total-rows":t.totalBook,"per-page":10},on:{input:t.getBooksApproved},scopedSlots:t._u([{key:"first-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹‹")])]},proxy:!0},{key:"prev-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹")])]},proxy:!0},{key:"next-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("›")])]},proxy:!0},{key:"last-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("››")])]},proxy:!0},{key:"page",fn:function({page:e,active:s}){return[s?a("b",{staticStyle:{color:"white"}},[t._v(t._s(e)+" ")]):a("b",{staticStyle:{color:"#9D6B54"}},[t._v(t._s(e))])]}}],null,!1,1684021845),model:{value:t.page,callback:function(a){t.page=a},expression:"page"}}):t._e(),"Đã Hủy"==t.filter?a("b-pagination",{staticClass:"page-number",attrs:{"total-rows":t.totalBook,"per-page":10},on:{input:t.getBooksDenied},scopedSlots:t._u([{key:"first-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹‹")])]},proxy:!0},{key:"prev-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹")])]},proxy:!0},{key:"next-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("›")])]},proxy:!0},{key:"last-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("››")])]},proxy:!0},{key:"page",fn:function({page:e,active:s}){return[s?a("b",{staticStyle:{color:"white"}},[t._v(t._s(e)+" ")]):a("b",{staticStyle:{color:"#9D6B54"}},[t._v(t._s(e))])]}}],null,!1,1684021845),model:{value:t.page,callback:function(a){t.page=a},expression:"page"}}):t._e(),"Đang Đợi"==t.filter?a("b-pagination",{staticClass:"page-number",attrs:{"total-rows":t.totalBook,"per-page":10},on:{input:t.getBooksWaiting},scopedSlots:t._u([{key:"first-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹‹")])]},proxy:!0},{key:"prev-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹")])]},proxy:!0},{key:"next-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("›")])]},proxy:!0},{key:"last-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("››")])]},proxy:!0},{key:"page",fn:function({page:e,active:s}){return[s?a("b",{staticStyle:{color:"white"}},[t._v(t._s(e)+" ")]):a("b",{staticStyle:{color:"#9D6B54"}},[t._v(t._s(e))])]}}],null,!1,1684021845),model:{value:t.page,callback:function(a){t.page=a},expression:"page"}}):t._e()],1)])])])],1)],1)},o=[function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("td",[t._v("Chi tiết")]),a("td",[t._v("Ảnh")]),a("td",[t._v("Mã")]),a("td",[t._v("Người đăng")]),a("td",[t._v("Tên sách")]),a("td",[t._v("Giá bìa")]),a("td",[t._v("Giá cọc")]),a("td",[t._v("Ngày đăng")]),a("td",[t._v("Trạng thái")]),a("td",[t._v("Duyệt/Hủy")]),a("td",[t._v("Đánh giá")])])])}],i=e("cde1"),n=e("fbfb"),c=e("482f"),l=function(){var t=this,a=t._self._c;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"dialog"},[a("div",{staticClass:"dialogContent"},[a("div",{staticClass:"topDialog"},[a("div",{staticClass:"dialogTitle"},[t._v("CHI TIẾT SÁCH")]),a("button",{staticClass:"dialogBtn",on:{click:t.cancel}},[t._v("X")])]),t._t("default")],2)])},r=[],d={name:"BookDetailDialog",props:["show","cancel"]},u=d,p=(e("1861"),e("2877")),h=Object(p["a"])(u,l,r,!1,null,"a74aaf60",null),v=h.exports,g=function(){var t=this,a=t._self._c;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"dialog"},[a("div",{staticClass:"dialogContent"},[a("div",{staticClass:"topDialog"},[a("div",{staticClass:"dialogTitle"},[t._v("ĐÁNH GIÁ")]),a("button",{staticClass:"dialogBtn",on:{click:t.cancel}},[t._v("X")])]),t._t("default")],2)])},_=[],f={name:"FeedbackDialog",props:["show","cancel"]},b=f,k=(e("d384"),Object(p["a"])(b,g,_,!1,null,"7045a03a",null)),B=k.exports,D=e("5ea9"),y=e("0c7c"),C={name:"GetBooks",components:{BookDetailDialog:v,LoadingDialog:c["a"],FeedbackDialog:B,Icon:D["a"],Dashboard:y["a"]},data(){return{book:"",listBooks:"",totalBook:"",listFeedbacks:"",totalFeedbacks:"",search:"",isSearch:!1,spinner:!1,showDialogFB:!1,showDialogBD:!1,listFilter:["Tất Cả","Đã Duyệt","Đã Hủy","Đang Đợi"],filter:"Tất Cả",page:""}},created(){this.isSearch=!1,this.getBooksAll(1)},methods:{onchange(t){this.isSearch=!1,this.search="","Tất Cả"===t.target.value&&this.getBooksAll(1),"Đã Duyệt"===t.target.value&&this.getBooksApproved(1),"Đã Hủy"===t.target.value&&this.getBooksDenied(1),"Đang Đợi"===t.target.value&&this.getBooksWaiting(1)},getBooksAll(t){this.spinner=!0,this.isSearch?i["a"].callApi(n["d"].SEARCH_BOOK+t,"POST",{search:this.search}).then(a=>{this.listBooks=a.data.data,this.totalBook=a.data.numberOfRecords,this.page=t,this.spinner=!1}).catch(()=>{}):i["a"].callApi(n["d"].LIST_BOOK+t,"GET",{}).then(a=>{this.listBooks=a.data.data,this.totalBook=a.data.numberOfRecords,this.page=t,this.spinner=!1}).catch(()=>{})},getBooksApproved(t){this.spinner=!0,this.isSearch=!1,i["a"].callApi(n["d"].LIST_BOOK_APPROVED+t,"GET",{}).then(a=>{this.listBooks=a.data.data,this.totalBook=a.data.numberOfRecords,this.page=t,this.spinner=!1}).catch(()=>{})},getBooksDenied(t){this.spinner=!0,this.isSearch=!1,i["a"].callApi(n["d"].LIST_BOOK_DENIED+t,"GET",{}).then(a=>{this.listBooks=a.data.data,this.totalBook=a.data.numberOfRecords,this.page=t,this.spinner=!1}).catch(()=>{})},getBooksWaiting(t){this.spinner=!0,this.isSearch=!1,i["a"].callApi(n["d"].LIST_BOOK_WAITING+t,"GET",{}).then(a=>{this.listBooks=a.data.data,this.totalBook=a.data.numberOfRecords,this.page=t,this.spinner=!1}).catch(()=>{})},HandleApproved(t){this.spinner=!0,i["a"].callApi(n["d"].APPROVED_BOOK+t,"PUT",{}).then(t=>{"SUCCESS"===t.data.message&&(""===this.filter&&this.getBooksAll(this.page),"Tất Cả"===this.filter&&this.getBooksAll(this.page),"Đã Duyệt"===this.filter&&this.getBooksApproved(this.page),"Đã Hủy"===this.filter&&this.getBooksDenied(this.page),"Đang Đợi"===this.filter&&this.getBooksWaiting(this.page))}).catch(()=>{alert("Duyệt không thành công!")})},HandleDenied(t){this.spinner=!0,i["a"].callApi(n["d"].DENIED_BOOK+t,"PUT",{}).then(t=>{"SUCCESS"===t.data.message&&(""===this.filter&&this.getBooksAll(this.page),"Tất Cả"===this.filter&&this.getBooksAll(this.page),"Đã Duyệt"===this.filter&&this.getBooksApproved(this.page),"Đã Hủy"===this.filter&&this.getBooksDenied(this.page),"Đang Đợi"===this.filter&&this.getBooksWaiting(this.page))}).catch(()=>{alert("Hủy không thành công!")})},getBookById(t){this.spinner=!0,i["a"].callApi(n["d"].DETAIL_BOOK+t,"GET",{}).then(t=>{this.book=t.data.data,this.spinner=!1,this.showDialogBD=!0}).catch(()=>{})},getFeedback(t){this.spinner=!0;const a=n["d"].FEEDBACK_BOOK+t;i["a"].callApi(a,"GET",{}).then(t=>{this.listFeedbacks=t.data.data,this.totalFeedbacks=t.data.numberOfRecords,this.spinner=!1,this.showDialogFB=!0}).catch(()=>{})},HandleDelete(t,a){const e=n["d"].DELETE_FEEDBACK+t;i["a"].callApi(e,"DELETE",{}).then(t=>{"DELETE_SUCCESS"===t.data.message&&(this.getFeedback(a),console.log(alert("Xóa thành công!")))}).catch(()=>{alert("Xóa không thành công!")})},HandleSearch(){return this.search?(this.filter="",this.isSearch=!0):(this.filter="Tất Cả",this.isSearch=!1),this.getBooksAll(1)},openDialogBD(t){this.getBookById(t)},openDialogFB(t){this.getFeedback(t)},cancel(){this.showDialogBD=!1,this.showDialogFB=!1}},filters:{formatDate(t){return new Date(t).toLocaleDateString("en-GB")},format(t){return new Date(t).toLocaleString("en-GB")}}},m=C,S=(e("0e03"),Object(p["a"])(m,s,o,!1,null,null,null));a["default"]=S.exports},a45d:function(t,a,e){},ae8c:function(t,a,e){},bba4:function(t,a,e){},d384:function(t,a,e){"use strict";e("041e")},ef67:function(t,a,e){"use strict";e("ae8c")}}]);
//# sourceMappingURL=chunk-80ae2980.a1baccbf.js.map