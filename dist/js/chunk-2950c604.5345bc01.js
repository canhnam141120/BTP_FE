(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2950c604"],{"211d":function(t,s,e){"use strict";e("b7c7")},"2cfa":function(t,s,e){},"43a1":function(t,s,e){"use strict";e.r(s);var o=function(){var t,s,o,a,i=this,l=i._self._c;return l("Layout",[l("main",{staticStyle:{"flex-grow":"1"}},[l("LoadingDialog",{directives:[{name:"show",rawName:"v-show",value:i.spinner,expression:"spinner"}],staticStyle:{"z-index":"999999"}}),i.showAcceptDialog?l("ConfirmDialog",{staticClass:"modal",attrs:{show:i.showAcceptDialog}},[l("div",[l("div",{staticClass:"dialogTitle"},[i._v("XÁC NHẬN")]),l("div",{staticStyle:{color:"#9d6b54","text-align":"center"}},[i._v("Xác nhận chấp nhận yêu cầu trao đổi sách!")]),l("div",{staticClass:"dialogGroupBtn"},[l("button",{staticClass:"dialogBtn",on:{click:i.cancelAcceptDialog}},[i._v("Hủy")]),l("button",{staticClass:"dialogBtn",on:{click:i.HandleAccept}},[i._v("Xác nhận")])])])]):i._e(),i.showConfirmDialog?l("ConfirmDialog",{staticClass:"modal",attrs:{show:i.showConfirmDialog}},[l("div",[l("div",{staticClass:"dialogTitle"},[i._v("XÁC NHẬN")]),l("div",{staticStyle:{color:"#9d6b54","text-align":"center"}},[i._v("Xác nhận từ chối yêu cầu trao đổi sách!")]),l("div",{staticClass:"dialogGroupBtn"},[l("button",{staticClass:"dialogBtn",on:{click:i.cancelConfirmDialog}},[i._v("Hủy")]),l("button",{staticClass:"dialogBtn",on:{click:i.HandleConfirm}},[i._v("Xác nhận")])])])]):i._e(),i.showConfirmDialogHide?l("ConfirmDialog",{staticClass:"modal",attrs:{show:i.showConfirmDialogHide}},[l("div",[l("div",{staticClass:"dialogTitle"},[i._v("XÁC NHẬN")]),l("div",{staticStyle:{color:"#9d6b54","text-align":"center"}},[i._v("Xác nhận ẩn sách!")]),l("div",{staticClass:"dialogGroupBtn"},[l("button",{staticClass:"dialogBtn",on:{click:i.cancelConfirmDialogHide}},[i._v("Hủy")]),l("button",{staticClass:"dialogBtn",on:{click:i.HandleConfirmHide}},[i._v("Xác nhận")])])])]):i._e(),i.showConfirmDialogShow?l("ConfirmDialog",{staticClass:"modal",attrs:{show:i.showConfirmDialogShow}},[l("div",[l("div",{staticClass:"dialogTitle"},[i._v("XÁC NHẬN")]),l("div",{staticStyle:{color:"#9d6b54","text-align":"center"}},[i._v("Xác nhận hiện sách!")]),l("div",{staticClass:"dialogGroupBtn"},[l("button",{staticClass:"dialogBtn",on:{click:i.cancelConfirmDialogShow}},[i._v("Hủy")]),l("button",{staticClass:"dialogBtn",on:{click:i.HandleConfirmShow}},[i._v("Xác nhận")])])])]):i._e(),(i.responseFlag,l("b-alert",{staticStyle:{position:"absolute",right:"0","z-index":"999999"},attrs:{show:i.dismissCountDown,variant:"success"},on:{dismissed:function(t){i.dismissCountDown=0},"dismiss-count-down":i.countDownChanged}},[i._v(" "+i._s(i.responseMessage)+" ")])),l("div",{staticClass:"VR"},[i.showDialog?l("CreateBookDialog",{staticClass:"modal",attrs:{show:i.showDialog,cancel:i.cancel,save:i.save}},[l("div",[l("div",{staticClass:"dialogTitle"},[i._v("CHỈNH SỬA SÁCH")])]),l("div",{staticClass:"top-form"},[l("div",{staticClass:"left-form"},[l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",attrs:{cols:"2"}},[i._v("Tiêu đề "),i.book.title?l("label",{staticStyle:{color:"green"}},[l("Icon",{attrs:{icon:"material-symbols:check-small-rounded"}})],1):l("label",{staticStyle:{color:"#ca0303"}},[i._v("*")])]),l("b-col",{staticClass:"input-div",attrs:{cols:"9"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:i.book.title,expression:"book.title"}],staticClass:"input-text",attrs:{type:"text",maxlength:"100",required:"",placeholder:"Nhập tên sách"},domProps:{value:i.book.title},on:{input:function(t){t.target.composing||i.$set(i.book,"title",t.target.value)}}})])],1),l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",attrs:{cols:"2"}},[i._v("Tác giả "),i.book.author?l("label",{staticStyle:{color:"green"}},[l("Icon",{attrs:{icon:"material-symbols:check-small-rounded"}})],1):l("label",{staticStyle:{color:"#ca0303"}},[i._v("*")])]),l("b-col",{staticClass:"input-div",attrs:{cols:"9"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:i.book.author,expression:"book.author"}],staticClass:"input-text",attrs:{type:"text",maxlength:"50",required:"",placeholder:"Nhập tên tác giả"},domProps:{value:i.book.author},on:{input:function(t){t.target.composing||i.$set(i.book,"author",t.target.value)}}})])],1),l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",attrs:{cols:"2"}},[i._v("Thể loại "),i.book.categoryId?l("label",{staticStyle:{color:"green"}},[l("Icon",{attrs:{icon:"material-symbols:check-small-rounded"}})],1):l("label",{staticStyle:{color:"#ca0303"}},[i._v("*")])]),l("b-col",{staticClass:"input-div",attrs:{cols:"9"}},[l("select",{directives:[{name:"model",rawName:"v-model",value:i.book.categoryId,expression:"book.categoryId"}],staticClass:"input-text",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));i.$set(i.book,"categoryId",t.target.multiple?s:s[0])}}},i._l(i.listCategories,(function(t){return l("option",{key:t.id,domProps:{value:t.id}},[i._v(i._s(t.name))])})),0)])],1),l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",attrs:{cols:"2"}},[i._v("Ngôn ngữ "),i.book.language?l("label",{staticStyle:{color:"green"}},[l("Icon",{attrs:{icon:"material-symbols:check-small-rounded"}})],1):l("label",{staticStyle:{color:"#ca0303"}},[i._v("*")])]),l("b-col",{staticClass:"input-div",attrs:{cols:"9"}},[l("select",{directives:[{name:"model",rawName:"v-model",value:i.book.language,expression:"book.language"}],staticClass:"input-text",attrs:{name:"category"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));i.$set(i.book,"language",t.target.multiple?s:s[0])}}},i._l(i.listLanguage,(function(t){return l("option",{key:t,domProps:{value:t}},[i._v(i._s(t)+" ")])})),0)])],1),l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",attrs:{cols:"2"}},[i._v("Nhà XB "),i.book.publisher?l("label",{staticStyle:{color:"green"}},[l("Icon",{attrs:{icon:"material-symbols:check-small-rounded"}})],1):l("label",{staticStyle:{color:"#ca0303"}},[i._v("*")])]),l("b-col",{staticClass:"input-div",attrs:{cols:"9"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:i.book.publisher,expression:"book.publisher"}],staticClass:"input-text",attrs:{type:"text",maxlength:"50",required:"",placeholder:"Nhập nhà xuất bản"},domProps:{value:i.book.publisher},on:{input:function(t){t.target.composing||i.$set(i.book,"publisher",t.target.value)}}})])],1)],1),l("div",{staticClass:"mid-form"},[l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",staticStyle:{width:"115px"},attrs:{cols:"2"}},[i._v("Năm XB "),i.book.year?l("label",{staticStyle:{color:"green"}},[l("Icon",{attrs:{icon:"material-symbols:check-small-rounded"}})],1):l("label",{staticStyle:{color:"#ca0303"}},[i._v("*")])]),l("b-col",{attrs:{cols:"6"}},[l("select",{directives:[{name:"model",rawName:"v-model",value:i.book.year,expression:"book.year"}],staticClass:"input-text-short",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));i.$set(i.book,"year",t.target.multiple?s:s[0])}}},i._l(i.listYear,(function(t){return l("option",{key:t,domProps:{value:t}},[i._v(i._s(t)+" ")])})),0)])],1),l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",staticStyle:{width:"115px"},attrs:{cols:"2"}},[i._v("Số trang "),i.book.numberOfPages?l("label",{staticStyle:{color:"green"}},[l("Icon",{attrs:{icon:"material-symbols:check-small-rounded"}})],1):l("label",{staticStyle:{color:"#ca0303"}},[i._v("*")])]),l("b-col",{attrs:{cols:"6"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:i.book.numberOfPages,expression:"book.numberOfPages"}],staticClass:"input-text-short",attrs:{type:"number",min:"1",max:"9999",step:"1",required:"",placeholder:"Nhập số trang"},domProps:{value:i.book.numberOfPages},on:{input:[function(t){t.target.composing||i.$set(i.book,"numberOfPages",t.target.value)},i.checkNegative]}})])],1),l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",staticStyle:{width:"116px"},attrs:{cols:"2"}},[i._v("Khối lượng(gr) "),i.book.weight?l("label",{staticStyle:{color:"green"}},[l("Icon",{attrs:{icon:"material-symbols:check-small-rounded"}})],1):l("label",{staticStyle:{color:"#ca0303"}},[i._v("*")])]),l("b-col",{attrs:{cols:"6"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:i.book.weight,expression:"book.weight"}],staticClass:"input-text-short",attrs:{type:"number",min:"100",max:"9999",step:"100",required:"",placeholder:"Nhập khối lượng"},domProps:{value:i.book.weight},on:{input:[function(t){t.target.composing||i.$set(i.book,"weight",t.target.value)},i.checkNegative]}})])],1),l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",staticStyle:{width:"115px"},attrs:{cols:"2"}},[i._v("Chọn ảnh")]),l("b-col",{staticClass:"input-div",attrs:{cols:"6"}},[l("input",{staticClass:"input-text-short",staticStyle:{width:"215px"},attrs:{type:"file",title:" ",name:"image"},on:{change:i.uploadImage}})])],1)],1),l("div",{staticClass:"right-form"},[l("b-row",{staticClass:"book-content"},[l("div",[l("b-col",{staticClass:"grCb",attrs:{cols:"9"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:i.book.isExchange,expression:"book.isExchange"}],staticClass:"checkB",attrs:{type:"checkbox",value:"true"},domProps:{checked:Array.isArray(i.book.isExchange)?i._i(i.book.isExchange,"true")>-1:i.book.isExchange},on:{change:function(t){var s=i.book.isExchange,e=t.target,o=!!e.checked;if(Array.isArray(s)){var a="true",l=i._i(s,a);e.checked?l<0&&i.$set(i.book,"isExchange",s.concat([a])):l>-1&&i.$set(i.book,"isExchange",s.slice(0,l).concat(s.slice(l+1)))}else i.$set(i.book,"isExchange",o)}}}),i._v(" Trao đổi  "),l("input",{directives:[{name:"model",rawName:"v-model",value:i.book.isRent,expression:"book.isRent"}],staticClass:"checkB",attrs:{type:"checkbox",value:"true"},domProps:{checked:Array.isArray(i.book.isRent)?i._i(i.book.isRent,"true")>-1:i.book.isRent},on:{change:function(t){var s=i.book.isRent,e=t.target,o=!!e.checked;if(Array.isArray(s)){var a="true",l=i._i(s,a);e.checked?l<0&&i.$set(i.book,"isRent",s.concat([a])):l>-1&&i.$set(i.book,"isRent",s.slice(0,l).concat(s.slice(l+1)))}else i.$set(i.book,"isRent",o)}}}),i._v(" Thuê "),i.book.isExchange||i.book.isRent?i._e():l("div",{staticStyle:{color:"#ca0303","font-size":"12px","margin-left":"5px"}},[i._v("Vui lòng chọn ít nhất 1 dịch vụ ")])])],1)]),i.book.isExchange||i.book.isRent?l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",staticStyle:{width:"115px"},attrs:{cols:"2"}},[i._v("Giá bìa(đ) "),i.book.coverPrice?l("label",{staticStyle:{color:"green"}},[l("Icon",{attrs:{icon:"material-symbols:check-small-rounded"}})],1):l("label",{staticStyle:{color:"#ca0303"}},[i._v("*")])]),l("b-col",{attrs:{cols:"6"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:i.book.coverPrice,expression:"book.coverPrice"}],staticClass:"input-text-short",attrs:{type:"number",min:"10000",max:"9999999",step:"5000",maxlength:"7",required:"",placeholder:"Ví dụ: 199000"},domProps:{value:i.book.coverPrice},on:{input:[function(t){t.target.composing||i.$set(i.book,"coverPrice",t.target.value)},i.checkNegative]}})])],1):i._e(),i.book.isExchange||i.book.isRent?l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",staticStyle:{width:"115px"},attrs:{cols:"2"}},[i._v("Giá đặt cọc(đ) "),i.book.depositPrice?l("label",{staticStyle:{color:"green"}},[l("Icon",{attrs:{icon:"material-symbols:check-small-rounded"}})],1):l("label",{staticStyle:{color:"#ca0303"}},[i._v("*")])]),l("b-col",{attrs:{cols:"6"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:i.book.depositPrice,expression:"book.depositPrice"}],staticClass:"input-text-short",attrs:{type:"number",min:"10000",max:"9999999",step:"5000",maxlength:"7",required:"",placeholder:"Ví dụ: 199000"},domProps:{value:i.book.depositPrice},on:{input:[function(t){t.target.composing||i.$set(i.book,"depositPrice",t.target.value)},i.checkNegative]}})])],1):i._e(),i.book.isRent?l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",staticStyle:{width:"115px"},attrs:{cols:"2"}},[i._v("Giá thuê(đ) "),i.book.rentFee?l("label",{staticStyle:{color:"green"}},[l("Icon",{attrs:{icon:"material-symbols:check-small-rounded"}})],1):l("label",{staticStyle:{color:"#ca0303"}},[i._v("*")])]),l("b-col",{attrs:{cols:"6"}},[l("input",{directives:[{name:"model",rawName:"v-model",value:i.book.rentFee,expression:"book.rentFee"}],staticClass:"input-text-short",attrs:{type:"number",min:"10000",max:"9999999",step:"5000",maxlength:"7",required:"",placeholder:"Ví dụ: 99000"},domProps:{value:i.book.rentFee},on:{input:[function(t){t.target.composing||i.$set(i.book,"rentFee",t.target.value)},i.checkNegative]}})])],1):i._e()],1),l("div",{staticClass:"img-form"},[l("img",{staticStyle:{width:"190px",height:"260px",border:"1px solid #9D6B54"},attrs:{src:i.book.image}})])]),l("div",{staticClass:"bottom-form"},[l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",staticStyle:{width:"85px"},attrs:{cols:"2"}},[i._v("Trạng thái "),i.book.statusBook?l("label",{staticStyle:{color:"green"}},[l("Icon",{attrs:{icon:"material-symbols:check-small-rounded"}})],1):l("label",{staticStyle:{color:"#ca0303"}},[i._v("*")])]),l("b-col",{staticClass:"input-div",attrs:{cols:"9"}},[l("textarea",{directives:[{name:"model",rawName:"v-model",value:i.book.statusBook,expression:"book.statusBook"}],staticClass:"input-text",staticStyle:{height:"100px",width:"1200px"},attrs:{type:"text",maxlength:"250",required:"",placeholder:"Nhập trạng thái"},domProps:{value:i.book.statusBook},on:{input:function(t){t.target.composing||i.$set(i.book,"statusBook",t.target.value)}}})])],1),l("b-row",{staticClass:"book-content"},[l("b-col",{staticClass:"input-label",staticStyle:{width:"85px"},attrs:{cols:"2"}},[i._v("Nội dung "),i.book.description?l("label",{staticStyle:{color:"green"}},[l("Icon",{attrs:{icon:"material-symbols:check-small-rounded"}})],1):l("label",{staticStyle:{color:"#ca0303"}},[i._v("*")])]),l("b-col",{staticClass:"input-div",attrs:{cols:"9"}},[l("textarea",{directives:[{name:"model",rawName:"v-model",value:i.book.description,expression:"book.description"}],staticClass:"input-text",staticStyle:{height:"100px",width:"1200px"},attrs:{type:"text",required:"",placeholder:"Nhập mô tả nội dung sách"},domProps:{value:i.book.description},on:{input:function(t){t.target.composing||i.$set(i.book,"description",t.target.value)}}})])],1)],1),l("div",{staticClass:"dialogGroupBtn"},[l("button",{staticClass:"dialogBtn",on:{click:i.cancel}},[i._v("Hủy")]),i.book.title&&i.book.author&&i.book.categoryId&&i.book.language&&i.book.publisher&&i.book.statusBook&&i.book.description&&(i.book.isExchange||i.book.isRent)&&i.book.year&&i.book.numberOfPages&&i.book.weight&&i.book.coverPrice&&i.book.depositPrice?l("button",{staticClass:"dialogBtn",on:{click:i.save}},[i._v("Lưu")]):l("button",{staticClass:"dialogBtnDisable",attrs:{disabled:""}},[i._v("Lưu")])])]):i._e(),l("div",{staticClass:"containerVR"},[l("div",{staticClass:"left-contentVR"},[l("SideBar_Personal")],1),l("div",{staticClass:"right-contentVR"},[l("div",{staticClass:"topVR"},[l("div",{staticClass:"left"},[i.book.isReady&&"Approved"==i.book.status?l("router-link",{staticStyle:{position:"relative"},attrs:{to:{name:"BookDetail",query:{id:i.book.id}}}},[l("img",{staticClass:"imgBD",attrs:{src:i.book.image}}),i.book.isTrade?l("label",{staticClass:"layer1"},[i._v("Đang giao dịch")]):l("label",{staticClass:"layer2"},[i._v("Sẵn sàng")])]):l("div",{staticStyle:{position:"relative"}},[l("img",{staticClass:"imgBD",attrs:{src:i.book.image}}),i.book.isReady||"Approved"!=i.book.status?i._e():l("label",{staticClass:"hide"},[i._v("Đang ẩn")]),i.book.isReady&&"Waiting"==i.book.status?l("label",{staticClass:"status"},[i._v("Đang đợi duyệt")]):i._e(),i.book.isReady&&"Denied"==i.book.status?l("label",{staticClass:"status"},[i._v("Không được duyệt")]):i._e()]),""==i.listRequestReceive?l("div",{staticClass:"extra"},[i.book.isTrade?i._e():l("button",{staticClass:"editBtn",on:{click:i.openDialog}},[i._v("Chỉnh sửa")]),i.book.isReady&&"Approved"==i.book.status&&!i.book.isTrade?l("button",{staticClass:"hideBtn",on:{click:function(t){return i.HandleHide(i.book.id)}}},[i._v("Ẩn ")]):i._e(),0!=i.book.isReady||"Approved"!=i.book.status||i.book.isTrade?i._e():l("button",{staticClass:"hideBtn",on:{click:function(t){return i.HandleShow(i.book.id)}}},[i._v("Hiện ")])]):i._e()],1),l("div",{staticClass:"right"},[l("label",{staticClass:"titleBD"},[l("strong",[i._v(i._s(i.book.title))])]),l("div",{staticClass:"contentRight"},[l("div",{staticClass:"bookInfoBD"},[l("div",[i._v("Thể loại: "),l("span",[i._v(i._s(null===(t=i.book.category)||void 0===t?void 0:t.name))])]),l("div",[i._v("Tác giả: "),l("span",[i._v(i._s(i.book.author))])]),l("div",[i._v("Nhà xuất bản: "),l("span",[i._v(i._s(i.book.publisher))])]),l("div",[i._v("Năm xuất bản: "),l("span",[i._v(i._s(i.book.year))])]),l("div",[i._v("Ngôn ngữ: "),l("span",[i._v(i._s(i.book.language))])]),l("div",[i._v("Số trang: "),l("span",[i._v(i._s(i.book.numberOfPages))])]),l("div",[i._v("Trọng lượng: "),l("span",[i._v(i._s(i.book.weight)+"g")])]),l("div",[i._v("Thời gian giao dịch: "),l("span",[i._v(i._s(i.book.numberOfDays)+" ngày")])]),l("div",[i._v("Tình trạng: "+i._s(i.book.statusBook))]),"Approved"==i.book.status?l("div",[i._v("Trạng thái: "),l("strong",{staticStyle:{color:"green"}},[i._v("Đã được duyệt")])]):i._e(),"Denied"==i.book.status?l("div",[i._v("Trạng thái: "),l("strong",{staticStyle:{color:"red"}},[i._v("Đã bị hủy")])]):i._e(),"Waiting"==i.book.status?l("div",[i._v("Trạng thái: "),l("strong",[i._v("Đang đợi duyệt")])]):i._e(),l("div",[i._v("Giá bìa: "),l("span",{staticClass:"cover"},[i._v(i._s(null===(s=i.book.coverPrice)||void 0===s?void 0:s.toLocaleString())+"đ")])]),l("div",[i._v("Phí đặt cọc: "),l("span",{staticClass:"deposit"},[i._v(i._s(null===(o=i.book.depositPrice)||void 0===o?void 0:o.toLocaleString())+"đ")])]),i.book.isRent?l("div",[i._v("Phí thuê: "),l("span",{staticClass:"rent"},[i._v(i._s(null===(a=i.book.rentFee)||void 0===a?void 0:a.toLocaleString())+"đ")])]):i._e()])])])]),l("hr"),l("div",{staticClass:"bottomVR"},[l("div",{staticClass:"title-bottom"},[i._v("Yêu cầu muốn đổi")]),""!=i.listRequestReceive?l("div",{staticClass:"gridMB"},i._l(i.listRequestReceive,(function(t){var s,o;return l("div",{key:t.id,staticClass:"itemMB"},[l("router-link",{attrs:{to:{name:"BookDetail",query:{id:t.bookOfferId}}}},[l("img",{staticClass:"imgss",attrs:{src:t.bookOffer.image}})]),l("div",{staticClass:"infoMB"},[l("div",{staticClass:"book-titleMB"},[i._v(i._s(t.bookOffer.title))]),l("div",{staticClass:"book-statusMB"},[l("img",{attrs:{src:e("aaca")}}),i._v(" "+i._s(t.bookOffer.user.fullname)+" ")]),l("div",{staticClass:"book-statusMB"},[i._v(i._s(null===(s=t.bookOffer.category)||void 0===s?void 0:s.name))]),l("label",{staticClass:"book-statusMB"},[i._v("Giá bìa: "),l("strong",[i._v(i._s(null===(o=t.bookOffer.coverPrice)||void 0===o?void 0:o.toLocaleString())+"đ")])]),l("label",{staticClass:"book-statusMB"},[i._v(i._s(t.bookOffer.statusBook))])]),l("div",{staticClass:"actionVR"},[i.book.isTrade?i._e():l("button",{staticClass:"active",on:{click:function(s){return i.HandleApproved(t.id)}}},[i._v("Chấp nhận")]),i.book.isTrade?i._e():l("button",{staticClass:"active",on:{click:function(s){return i.HandleDenied(t.id)}}},[i._v("Từ chối")]),i.book.isTrade?l("div",{staticStyle:{"text-align":"center","font-size":"14px","background-color":"grey","border-radius":"10px",padding:"10px",color:"white"}},[i._v("Sách của bạn đang giao dịch")]):i._e()])],1)})),0):l("div",{staticClass:"noBook"},[i._v("Danh sách trống")])])])])],1)],1)])},a=[],i=(e("14d9"),e("2314")),l=e("ebad"),n=e("fbfb"),c=e("cde1"),r=e("48ac"),d=e.n(r),u=e("482f"),h=e("8b91"),g=e("96ec"),b=e("31f0"),v={name:"ViewRequestBook",components:{LoadingDialog:u["a"],SideBar_Personal:i["a"],Layout:l["a"],CreateBookDialog:h["a"],ConfirmDialog:g["a"]},data(){return{dismissSecs:5,dismissCountDown:0,showConfirmDialog:!1,showAcceptDialog:!1,responseFlag:!0,responseMessage:"",showConfirmDialogHide:!1,showConfirmDialogShow:!1,listLanguage:["Tiếng Việt","Tiếng Anh","Tiếng Hán","Tiếng Hàn","Tiếng Nhật","Tiếng Tây Ban Nha","Tiếng Pháp","Tiếng Đức","Tiếng Nga","Tiếng Bồ Đào Nha","Tiếng Hindi","Khác"],listYear:["2022","2021","2020","2019","2018","2017","2016","2015","2014","2013","2012","2011","2010","2009","2008","2007","2006","2005","2004","2003","2002","2001","2000","1999","1998","1997","1996","1995","1994","1993","1992","1991","1990","1989"],listCategories:"",book:"",listRequestReceive:"",loading:!1,userId:"",userByToken:"",spinner:!1,showDialog:!1,tmpId:""}},created(){this.$cookies.get("token")||this.$router.push({name:"404Page"}),this.getBookById(),this.getRequestReceived(),this.getCategories()},methods:{getCategories(){c["a"].callApi(n["d"].All_CATEGORY,"GET",{}).then(t=>{this.listCategories=t.data.data}).catch(()=>{})},getBookById(){const t=n["c"].DETAIL_BOOK+this.$route.query.id;c["a"].callApi(t,"GET",{}).then(t=>{this.book=t.data.data}).catch(()=>{})},getRequestReceived(){let t=this.$cookies.get("token");this.userByToken=d.a.decode(t,"utf-8");const s=n["i"].LIST_REQUEST_RECEIVED+this.$route.query.id;c["a"].callApi(s,"POST",{userId:this.userByToken.UserId}).then(t=>{this.listRequestReceive=t.data.data,console.log(this.listRequestReceive)}).catch(()=>{})},HandleHide(t){this.tmpId=t,this.showConfirmDialogHide=!0},cancelConfirmDialogHide(){this.showConfirmDialogHide=!1},HandleConfirmHide(){const t=n["a"].HIDE_BOOK+this.tmpId;c["a"].callApi(t,"PUT",{}).then(t=>{"SUCCESS"===t.data.message?(this.responseFlag=!0,this.responseMessage="Ẩn sách thành công!"):(this.responseFlag=!1,this.responseMessage="Có lỗi xảy ra! Vui lòng thử lại sau!"),this.dismissCountDown=this.dismissSecs,this.getBookById(),this.showConfirmDialogHide=!1}).catch(()=>{})},HandleShow(t){this.tmpId=t,this.showConfirmDialogShow=!0},cancelConfirmDialogShow(){this.showConfirmDialogShow=!1},HandleConfirmShow(){const t=n["a"].SHOW_BOOK+this.tmpId;c["a"].callApi(t,"PUT",{}).then(t=>{"SUCCESS"===t.data.message?(this.responseFlag=!0,this.responseMessage="Hiện sách thành công!"):(this.responseFlag=!1,this.responseMessage="Có lỗi xảy ra! Vui lòng thử lại sau!"),this.getBookById(),this.dismissCountDown=this.dismissSecs,this.showConfirmDialogShow=!1}).catch(()=>{})},openDialog(){this.showDialog=!0},cancel(){this.getBookById(),this.showDialog=!1},save(){c["a"].callApi(n["a"].EDIT_BOOK+this.book.id,"PUT",{categoryId:this.book.categoryId,title:this.book.title,description:this.book.description,author:this.book.author,publisher:this.book.publisher,year:this.book.year,language:this.book.language,numberOfPages:this.book.numberOfPages,weight:this.book.weight,coverPrice:this.book.coverPrice,image:this.book.image,depositPrice:this.book.depositPrice,statusBook:this.book.statusBook,isExchange:this.book.isExchange,isRent:this.book.isRent,rentFee:this.book.rentFee}).then(t=>{this.responseMessage="","UPDATE_SUCCESS"===t.data.message?(this.responseFlag=!0,this.responseMessage="Sách của bạn đã được gửi lại QTV để duyệt!"):(this.responseFlag=!1,this.responseMessage="Có lỗi xảy ra! Vui lòng thử lại!"),this.getBookById(),this.dismissCountDown=this.dismissSecs,this.showDialog=!1}).catch(()=>{})},async uploadImage(){const t=document.querySelector("input[type=file]").files[0],s=await Object(b["a"])(t.name);await fetch(s,{method:"PUT",headers:{"Content-Type":"image/jpeg"},body:t});const e=s.split("?")[0];this.book.image=e},HandleApproved(t){this.tmpId=t,this.showAcceptDialog=!0},cancelAcceptDialog(){this.showAcceptDialog=!1},HandleAccept(){this.spinner=!0,window.scroll(0,0),this.userByToken=d.a.decode(this.$cookies.get("token"),"utf-8"),c["a"].callApi(n["k"].ACCEPT_REQUEST+this.tmpId,"PUT",{userId:this.userByToken.UserId}).then(t=>{"SUCCESS"===t.data.message?(this.getRequestReceived(),this.responseFlag=!0,this.responseMessage="Chấp nhận yêu cầu trao đổi sách - Thành công!"):(this.responseFlag=!1,this.responseMessage="Có lỗi xảy ra! Vui lòng thử lại!"),this.dismissCountDown=this.dismissSecs,this.spinner=!1,this.showAcceptDialog=!1}).catch(()=>{})},HandleDenied(t){this.tmpId=t,this.showConfirmDialog=!0},cancelConfirmDialog(){this.showConfirmDialog=!1},HandleConfirm(){this.spinner=!0,window.scroll(0,0),this.userByToken=d.a.decode(this.$cookies.get("token"),"utf-8");const t=n["k"].DENIED_REQUEST+this.tmpId;c["a"].callApi(t,"PUT",{userId:this.userByToken.UserId}).then(t=>{"SUCCESS"===t.data.message?(this.getRequestReceived(),this.responseMessage="Từ chối yêu cầu trao đổi sách - Thành công!"):(this.responseFlag=!1,this.responseMessage="Có lỗi xảy ra! Vui lòng thử lại!"),this.dismissCountDown=this.dismissSecs,this.showConfirmDialog=!1,this.spinner=!1}).catch(()=>{})},countDownChanged(t){this.dismissCountDown=t},checkNegative(t){(t.target.value<=1||t.target.value>9999)&&(t.target.value="")}}},p=v,m=(e("211d"),e("2877")),k=Object(m["a"])(p,o,a,!1,null,"9a1e43f6",null);s["default"]=k.exports},"482f":function(t,s,e){"use strict";var o=function(){var t=this,s=t._self._c;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"dialog"},[s("div",{staticClass:"dialogContent"},[s("b-button",{staticClass:"spinner",attrs:{disabled:""}},[s("b-spinner")],1)],1)])},a=[],i={name:"LoadingDialog",props:["show","cancel","confirm"]},l=i,n=(e("ef67"),e("2877")),c=Object(n["a"])(l,o,a,!1,null,"764a15da",null);s["a"]=c.exports},8136:function(t,s,e){"use strict";e("2cfa")},"8b91":function(t,s,e){"use strict";var o=function(){var t=this,s=t._self._c;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"dialog"},[s("div",{staticClass:"dialogContent"},[t._t("default")],2)])},a=[],i={name:"CreateBookDialog",props:["show","cancel","save"]},l=i,n=(e("8136"),e("2877")),c=Object(n["a"])(l,o,a,!1,null,"08d523bd",null);s["a"]=c.exports},"96ec":function(t,s,e){"use strict";var o=function(){var t=this,s=t._self._c;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"dialog"},[s("div",{staticClass:"dialogContent"},[t._t("default")],2)])},a=[],i={name:"ConfirmDialog",props:["show"]},l=i,n=(e("9984"),e("2877")),c=Object(n["a"])(l,o,a,!1,null,"ba3e2db0",null);s["a"]=c.exports},9984:function(t,s,e){"use strict";e("9eea")},"9eea":function(t,s,e){},aaca:function(t,s,e){t.exports=e.p+"img/user.3e879a68.png"},ae8c:function(t,s,e){},b7c7:function(t,s,e){},ef67:function(t,s,e){"use strict";e("ae8c")}}]);
//# sourceMappingURL=chunk-2950c604.5345bc01.js.map