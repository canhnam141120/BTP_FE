(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f6e1ae1"],{"061f":function(t,s,e){},5300:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("Layout",[s("main",{staticStyle:{"flex-grow":"1"}},[s("div",{staticClass:"myFVR"},[t.responseFlag?s("b-alert",{staticStyle:{position:"absolute",right:"0","z-index":"999999"},attrs:{show:t.dismissCountDown,variant:"success"},on:{dismissed:function(s){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.responseMessage)+" ")]):s("b-alert",{staticStyle:{position:"absolute",right:"0","z-index":"999999"},attrs:{show:t.dismissCountDown,variant:"danger"},on:{dismissed:function(s){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.responseMessage)+" ")]),s("div",{staticClass:"containerMF"},[s("div",{staticClass:"left-contentMF"},[s("SideBar_Personal")],1),s("div",{staticClass:"right-contentMF"},[s("div",{staticClass:"titleMT"},[t._v("DANH SÁCH YÊU THÍCH")]),s("hr"),s("b-card",{staticClass:"background-tab",attrs:{card:""}},[s("b-tabs",{attrs:{"active-nav-item-class":"font-weight-bold","active-tab-class":"font-weight-bold","content-class":"mt-3"}},[s("b-tab",{attrs:{title:"Sách",active:""}},[s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchBook,expression:"searchBook"}],attrs:{type:"text",placeholder:"Nhập tiêu đề sách"},domProps:{value:t.searchBook},on:{input:function(s){s.target.composing||(t.searchBook=s.target.value)}}}),s("button",[t._v("Tìm")])]),s("b-skeleton-wrapper",{attrs:{loading:t.loading},scopedSlots:t._u([{key:"loading",fn:function(){return[s("div",{staticClass:"gridMB"},t._l(6,(function(t){return s("div",{key:t,staticClass:"itemMB"},[s("b-card",{staticStyle:{height:"450px"},attrs:{"no-body":"","img-top":""}},[s("b-skeleton-img",{attrs:{"card-img":"top",aspect:"3:1",height:"290px"}}),s("b-card",{staticStyle:{height:"170px"}},[s("b-skeleton",{attrs:{animation:"wave",width:"85%"}}),s("b-skeleton",{attrs:{animation:"wave",width:"55%"}}),s("b-skeleton",{attrs:{animation:"wave",width:"70%"}}),s("b-skeleton",{attrs:{animation:"wave",width:"85%"}}),s("b-skeleton",{attrs:{animation:"wave",width:"55%"}}),s("b-skeleton",{attrs:{animation:"wave",width:"70%"}})],1)],1)],1)})),0)]},proxy:!0}])},[0!=t.totalBook?s("div",{staticClass:"gridMB"},t._l(t.listBook,(function(e){return s("div",{key:e.id,staticClass:"itemMB"},[s("router-link",{staticClass:"active",attrs:{to:{name:"BookDetail",query:{id:e.bookId}}}},[s("img",{attrs:{src:e.book.image}})]),s("button",{staticClass:"dislikeBook",on:{click:function(s){return t.HandleUnlikeBook(e.bookId)}}},[s("Icon",{attrs:{icon:"ant-design:dislike-filled"}})],1),s("div",{staticClass:"infoMB"},[s("div",{staticClass:"book-titleMB"},[s("strong",[t._v(t._s(e.book.title))])]),s("div",{staticClass:"book-statusMB"},[t._v("Người đăng: "),s("strong",[t._v(t._s(e.book.user.fullname))])]),s("div",{staticClass:"book-statusMB"},[t._v("Thể loại: "),s("strong",[t._v(t._s(e.book.category.name))])]),s("label",{staticClass:"book-statusMB"},[t._v("Giá bìa: "),s("strong",[t._v(t._s(e.book.coverPrice.toLocaleString())+"đ")])]),s("label",{staticClass:"book-statusMB"},[t._v(t._s(e.book.statusBook))]),"Approved"==e.status?s("label",{staticClass:"book-statusMB"},[t._v("Trạng thái: "),s("strong",{staticStyle:{color:"green"}},[t._v("Đã được duyệt")])]):t._e(),"Denied"==e.status?s("label",{staticClass:"book-statusMB"},[t._v("Trạng thái: "),s("strong",{staticStyle:{color:"red"}},[t._v("Đã bị hủy")])]):t._e(),"Waiting"==e.status?s("label",{staticClass:"book-statusMB"},[t._v("Trạng thái: "),s("strong",[t._v("Đang đợi duyệt")])]):t._e(),e.isTrade?s("label",{staticClass:"book-statusMB",staticStyle:{color:"red","font-weight":"bold"}},[t._v("Đang giao dịch")]):s("label",{staticClass:"book-statusMB",staticStyle:{color:"green","font-weight":"bold"}},[t._v("Sẵn sàng")])])],1)})),0):s("div",{staticClass:"noBook"},[t._v("Danh sách trống!")])]),0!=t.totalBook?s("div",{staticClass:"pagingMB"},[s("b-pagination",{staticClass:"page-numberMB",attrs:{"total-rows":t.totalBook,"per-page":6},on:{input:t.getBookFavorite},scopedSlots:t._u([{key:"first-text",fn:function(){return[s("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹‹")])]},proxy:!0},{key:"prev-text",fn:function(){return[s("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹")])]},proxy:!0},{key:"next-text",fn:function(){return[s("span",{staticStyle:{color:"#9D6B54"}},[t._v("›")])]},proxy:!0},{key:"last-text",fn:function(){return[s("span",{staticStyle:{color:"#9D6B54"}},[t._v("››")])]},proxy:!0},{key:"page",fn:function({page:e,active:a}){return[a?s("b",{staticStyle:{color:"white"}},[t._v(t._s(e)+" ")]):s("b",{staticStyle:{color:"#9D6B54"}},[t._v(t._s(e))])]}}],null,!1,1684021845),model:{value:t.pageBook,callback:function(s){t.pageBook=s},expression:"pageBook"}})],1):t._e()],1),s("b-tab",{attrs:{title:"Bài Đăng"}},[s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchPost,expression:"searchPost"}],attrs:{type:"text",placeholder:"Nhập tiêu đề bài đăng"},domProps:{value:t.searchPost},on:{input:function(s){s.target.composing||(t.searchPost=s.target.value)}}}),s("button",[t._v("Tìm")])]),s("b-skeleton-wrapper",{attrs:{loading:t.loading},scopedSlots:t._u([{key:"loading",fn:function(){return[s("div",{staticClass:"gridPostLike"},t._l(5,(function(t){return s("div",{key:t,staticClass:"itemPostLike"},[s("b-card",{staticStyle:{height:"140px"},attrs:{"no-body":"","img-left":""}},[s("b-skeleton-img",{attrs:{"card-img":"left",width:"140px"}}),s("b-card",{staticStyle:{width:"850px",height:"140px"}},[s("b-skeleton",{attrs:{animation:"wave",width:"85%"}}),s("b-skeleton",{attrs:{animation:"wave",width:"55%"}}),s("b-skeleton",{attrs:{animation:"wave",width:"70%"}}),s("b-skeleton",{attrs:{animation:"wave",width:"85%"}}),s("b-skeleton",{attrs:{animation:"wave",width:"55%"}}),s("b-skeleton",{attrs:{animation:"wave",width:"70%"}})],1)],1)],1)})),0)]},proxy:!0}])},[0!=t.totalPost?s("div",{staticClass:"gridPostLike"},t._l(t.listPost,(function(e){return s("div",{key:e.id,staticClass:"itemPostLike"},[s("router-link",{attrs:{to:{name:"PostDetail",query:{id:e.postId}}}},[s("img",{staticClass:"post-image",attrs:{src:e.post.image}})]),s("div",{staticClass:"info"},[s("div",{staticClass:"post-title"},[t._v(t._s(e.post.title))]),s("label",{staticClass:"post-content"},[t._v("Tác giả: "),s("strong",[t._v(t._s(e.post.user.fullname))])]),s("label",{staticClass:"post-content"},[t._v("Ngày đăng: "),s("strong",[t._v(t._s(t._f("formatDate")(e.post.createdDate)))])]),"Approved"==e.status?s("label",{staticClass:"post-content"},[t._v("Trạng thái: "),s("strong",[t._v("Đã được duyệt")])]):t._e(),"Denied"==e.status?s("label",{staticClass:"post-content"},[t._v("Trạng thái: "),s("strong",[t._v("Đã bị hủy")])]):t._e(),"Waiting"==e.status?s("label",{staticClass:"post-content"},[t._v("Trạng thái: "),s("strong",[t._v("Đang đợi duyệt")])]):t._e(),s("label",{staticClass:"post-content"},[t._v(t._s(e.post.content))])]),s("div",{staticClass:"gr-btn"},[s("button",{staticClass:"item-btn",on:{click:function(s){return t.HandleUnlikePost(e.postId)}}},[s("Icon",{attrs:{icon:"ant-design:dislike-filled"}})],1)])],1)})),0):s("div",{staticClass:"noBook"},[t._v("Danh sách trống!")])]),0!=t.totalPost?s("div",{staticClass:"pagingMB"},[s("b-pagination",{staticClass:"page-numberMB",attrs:{"total-rows":t.totalPost,"per-page":5},on:{input:t.getPostFavorite},scopedSlots:t._u([{key:"first-text",fn:function(){return[s("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹‹")])]},proxy:!0},{key:"prev-text",fn:function(){return[s("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹")])]},proxy:!0},{key:"next-text",fn:function(){return[s("span",{staticStyle:{color:"#9D6B54"}},[t._v("›")])]},proxy:!0},{key:"last-text",fn:function(){return[s("span",{staticStyle:{color:"#9D6B54"}},[t._v("››")])]},proxy:!0},{key:"page",fn:function({page:e,active:a}){return[a?s("b",{staticStyle:{color:"white"}},[t._v(t._s(e)+" ")]):s("b",{staticStyle:{color:"#9D6B54"}},[t._v(t._s(e))])]}}],null,!1,1684021845),model:{value:t.pagePost,callback:function(s){t.pagePost=s},expression:"pagePost"}})],1):t._e()],1),s("b-tab",{attrs:{title:"Người Dùng"}},[s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchUser,expression:"searchUser"}],attrs:{type:"text",placeholder:"Nhập tên hoặc SĐT"},domProps:{value:t.searchUser},on:{input:function(s){s.target.composing||(t.searchUser=s.target.value)}}}),s("button",[t._v("Tìm")])]),s("b-skeleton-wrapper",{attrs:{loading:t.loading},scopedSlots:t._u([{key:"loading",fn:function(){return[s("div",{staticClass:"gridUser"},t._l(8,(function(t){return s("div",{key:t,staticClass:"itemUser"},[s("b-card",{staticStyle:{height:"250px"},attrs:{"no-body":"","img-top":""}},[s("b-skeleton",{staticStyle:{"margin-left":"20px"},attrs:{type:"avatar",height:"140px",width:"140px"}}),s("b-card",{staticStyle:{height:"110px"}},[s("b-skeleton",{attrs:{animation:"wave",width:"85%"}}),s("b-skeleton",{attrs:{animation:"wave",width:"55%"}}),s("b-skeleton",{attrs:{animation:"wave",width:"70%"}})],1)],1)],1)})),0)]},proxy:!0}])},[0!=t.totalUser?s("div",{staticClass:"gridUser"},t._l(t.listUser,(function(e){return s("div",{key:e.id,staticClass:"itemUser"},[s("router-link",{staticClass:"active",attrs:{to:{name:"OtherPerson",query:{id:e.favoriteUserId}}}},[s("img",{attrs:{src:e.favoriteUser.avatar}})]),s("div",{staticClass:"itemUserInfo"},[s("div",{staticClass:"username"},[s("strong",[t._v(t._s(e.favoriteUser.fullname))])]),s("div",{staticClass:"username"},[t._v(t._s(e.favoriteUser.likeNumber)+" người thích")]),s("div",{staticClass:"username"},[t._v(t._s(e.favoriteUser.numberOfTransaction)+" lần giao dịch")]),s("button",{staticClass:"dislikeUser",on:{click:function(s){return t.HandleUnlikeUser(e.favoriteUserId)}}},[s("Icon",{attrs:{icon:"ant-design:dislike-filled"}})],1)])],1)})),0):s("div",{staticClass:"noBook"},[t._v("Danh sách trống!")])]),0!=t.totalUser?s("div",{staticClass:"pagingMB"},[s("b-pagination",{staticClass:"page-numberMB",attrs:{"total-rows":t.totalUser,"per-page":8},on:{input:t.getUserFavorite},scopedSlots:t._u([{key:"first-text",fn:function(){return[s("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹‹")])]},proxy:!0},{key:"prev-text",fn:function(){return[s("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹")])]},proxy:!0},{key:"next-text",fn:function(){return[s("span",{staticStyle:{color:"#9D6B54"}},[t._v("›")])]},proxy:!0},{key:"last-text",fn:function(){return[s("span",{staticStyle:{color:"#9D6B54"}},[t._v("››")])]},proxy:!0},{key:"page",fn:function({page:e,active:a}){return[a?s("b",{staticStyle:{color:"white"}},[t._v(t._s(e)+" ")]):s("b",{staticStyle:{color:"#9D6B54"}},[t._v(t._s(e))])]}}],null,!1,1684021845),model:{value:t.pageUser,callback:function(s){t.pageUser=s},expression:"pageUser"}})],1):t._e()],1)],1)],1)],1)])],1)])])},o=[],i=(e("14d9"),e("2314")),n=e("ebad"),r=e("cde1"),l=e("fbfb"),c=e("48ac"),d=e.n(c),u=e("5ea9"),g={name:"MyFavorites",components:{SideBar_Personal:i["a"],Layout:n["a"],Icon:u["a"]},data(){return{responseFlag:!0,responseMessage:"",dismissSecs:5,dismissCountDown:0,loading:!1,searchBook:"",isSearchBook:!1,pageBook:1,listBook:"",totalBook:"",searchPost:"",isSearchPost:!1,pagePost:1,listPost:"",totalPost:"",searchUser:"",isSearchUser:!1,pageUser:1,listUser:"",totalUser:""}},created(){this.$cookies.get("token")||this.$router.push({name:"404Page"}),this.getBookFavorite(1),this.getPostFavorite(1),this.getUserFavorite(1)},methods:{getBookFavorite(t){this.loading=!0,this.userByToken=d.a.decode(this.$cookies.get("token"),"utf-8"),r["a"].callApi(l["i"].LIST_BOOK_FAVORITE+"?page="+t,"POST",{userId:this.userByToken.UserId}).then(s=>{this.listBook=s.data.data,this.totalBook=s.data.numberOfRecords,this.pageBook=t,this.loading=!1}).catch(()=>{})},getPostFavorite(t){this.userByToken=d.a.decode(this.$cookies.get("token"),"utf-8"),r["a"].callApi(l["i"].LIST_POST_FAVORITE+"?page="+t,"POST",{userId:this.userByToken.UserId}).then(s=>{this.listPost=s.data.data,this.totalPost=s.data.numberOfRecords,this.pagePost=t}).catch(()=>{})},getUserFavorite(t){this.userByToken=d.a.decode(this.$cookies.get("token"),"utf-8"),r["a"].callApi(l["i"].LIST_USER_FAVORITE+"?page="+t,"POST",{userId:this.userByToken.UserId}).then(s=>{this.listUser=s.data.data,this.totalUser=s.data.numberOfRecords,this.pageUser=t}).catch(()=>{})},HandleUnlikeBook(t){window.scroll(0,0),this.userByToken=d.a.decode(this.$cookies.get("token"),"utf-8"),r["a"].callApi(l["i"].DELETE_BOOK_FAVORITE+t,"DELETE",{userId:this.userByToken.UserId}).then(t=>{"DELETE_SUCCESS"==t.data.message&&(this.getBookFavorite(this.pageBook),this.responseFlag=!0,this.responseMessage="Hủy yêu thích sách - Thành công",this.dismissCountDown=this.dismissSecs)}).catch(()=>{})},HandleUnlikePost(t){window.scroll(0,0),this.userByToken=d.a.decode(this.$cookies.get("token"),"utf-8"),r["a"].callApi(l["i"].DELETE_POST_FAVORITE+t,"DELETE",{userId:this.userByToken.UserId}).then(t=>{"DELETE_SUCCESS"==t.data.message&&(this.getPostFavorite(this.pagePost),this.responseFlag=!0,this.responseMessage="Hủy yêu thích bài đăng - Thành công",this.dismissCountDown=this.dismissSecs)}).catch(()=>{})},HandleUnlikeUser(t){window.scroll(0,0),this.userByToken=d.a.decode(this.$cookies.get("token"),"utf-8"),r["a"].callApi(l["i"].DELETE_USER_FAVORITE+t,"DELETE",{userId:this.userByToken.UserId}).then(t=>{"DELETE_SUCCESS"==t.data.message&&(this.getUserFavorite(this.pageUser),this.responseFlag=!0,this.responseMessage="Hủy yêu thích người dùng - Thành công",this.dismissCountDown=this.dismissSecs)}).catch(()=>{})},countDownChanged(t){this.dismissCountDown=t}},filters:{formatDate(t){return new Date(t).toLocaleString("en-GB")}}},h=g,p=(e("de48"),e("2877")),v=Object(p["a"])(h,a,o,!1,null,null,null);s["default"]=v.exports},de48:function(t,s,e){"use strict";e("061f")}}]);
//# sourceMappingURL=chunk-6f6e1ae1.208379b3.js.map