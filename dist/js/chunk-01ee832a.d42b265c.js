(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01ee832a"],{"535b":function(t,a,s){"use strict";s("5893")},5893:function(t,a,s){},"686e":function(t,a,s){"use strict";s.r(a);var n=function(){var t=this,a=t._self._c;return a("div",{staticClass:"ml"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"user-data m-b-30"},[t._m(0),a("button",{staticClass:"au-btn au-btn-icon au-btn--brown au-btn--small",on:{click:function(a){return t.getBooksAll(1)}}},[t._v("Tất cả")]),a("button",{staticClass:"au-btn au-btn-icon au-btn--brown au-btn--small",on:{click:t.getBooksApproved}},[t._v("Đã duyệt")]),a("button",{staticClass:"au-btn au-btn-icon au-btn--brown au-btn--small",on:{click:t.getBooksDenied}},[t._v("Đã hủy")]),a("button",{staticClass:"au-btn au-btn-icon au-btn--brown au-btn--small",on:{click:t.getBooksWaiting}},[t._v("Đang đợi")]),a("br"),a("div",{staticClass:"search-book"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:"Nhập tên sản phẩm"},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value)}}}),a("button",{on:{click:t.HandleSearch}},[t._v("Tìm")])]),a("div",{staticClass:"table-responsive table-data"},[a("table",{staticClass:"table"},[t._m(1),t._l(t.listBooks,(function(s){return a("tbody",{key:s.id},[a("tr",[a("td",[a("div",{staticClass:"table-data__info"},[a("h6",[t._v(t._s(s.id))])])]),a("td",[t._v(t._s(s.user.fullname))]),a("td",{staticStyle:{"max-width":"300px"}},[t._v(t._s(s.title))]),a("td",[a("img",{attrs:{src:s.image,height:"90px",width:"65px"}})]),a("td",[t._v(t._s(s.coverPrice.toLocaleString())+"đ")]),a("td",[t._v(t._s(s.depositPrice.toLocaleString())+"đ")]),a("td",[t._v(t._s(s.postedDate))]),"Approved"==s.status?a("td",[a("span",{staticClass:"role approved"},[t._v("ĐÃ DUYỆT")])]):t._e(),"Denied"==s.status?a("td",[a("span",{staticClass:"role denied"},[t._v("ĐÃ HỦY")])]):t._e(),"Waiting"==s.status?a("td",[a("span",{staticClass:"role waiting"},[t._v("ĐANG ĐỢI")])]):t._e(),"Waiting"==s.status?a("td",[a("button",{staticClass:"au-btn au-btn-icon au-btn--brown au-btn--small",staticStyle:{display:"block"},on:{click:function(a){return t.HandleApproved(s.id)}}},[t._v("Duyệt")]),a("button",{staticClass:"au-btn au-btn-icon au-btn--brown au-btn--small",staticStyle:{width:"53.5px"},on:{click:function(a){return t.HandleDenied(s.id)}}},[t._v("Hủy")])]):t._e(),"Approved"==s.status?a("td",[a("button",{staticClass:"au-btn au-btn-icon au-btn--brown au-btn--small",staticStyle:{width:"53.5px"},on:{click:function(a){return t.HandleDenied(s.id)}}},[t._v("Huỷ")])]):t._e(),"Denied"==s.status?a("td",[a("button",{staticClass:"au-btn au-btn-icon au-btn--brown au-btn--small",on:{click:function(a){return t.HandleApproved(s.id)}}},[t._v("Duyệt")])]):t._e(),a("td",[a("router-link",{staticClass:"au-btn au-btn-icon au-btn--brown au-btn--small btn-router",attrs:{to:{name:"DetailBook",query:{id:s.id}}}},[t._v("Chi tiết")])],1),a("td",[a("router-link",{staticClass:"au-btn au-btn-icon au-btn--brown au-btn--small btn-router",attrs:{to:{name:"GetFeedbacks",query:{id:s.id}}}},[t._v("Xem đánh giá")])],1)])])}))],2),a("div",{staticClass:"paging-book"},[a("b-pagination",{staticClass:"page-number",attrs:{"total-rows":t.totalBook,"per-page":9},on:{input:t.getBooksAll},scopedSlots:t._u([{key:"first-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹‹")])]},proxy:!0},{key:"prev-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹")])]},proxy:!0},{key:"next-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("›")])]},proxy:!0},{key:"last-text",fn:function(){return[a("span",{staticStyle:{color:"#9D6B54"}},[t._v("››")])]},proxy:!0},{key:"page",fn:function({page:s,active:n}){return[n?a("b",{staticStyle:{color:"white"}},[t._v(t._s(s)+" ")]):a("b",{staticStyle:{color:"#9D6B54"}},[t._v(t._s(s))])]}}]),model:{value:t.page,callback:function(a){t.page=a},expression:"page"}})],1)])])])])])},e=[function(){var t=this,a=t._self._c;return a("h3",{staticClass:"title-3 m-b-30"},[a("i",{staticClass:"zmdi zmdi-account-calendar"}),t._v("Danh sách sách")])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("td",[t._v("Mã sách")]),a("td",[t._v("Người đăng")]),a("td",[t._v("Tên sách")]),a("td",[t._v("Ảnh")]),a("td",[t._v("Giá bìa")]),a("td",[t._v("Giá cọc")]),a("td",[t._v("Ngày đăng")]),a("td",[t._v("Trạng thái")]),a("td",[t._v("Duyệt/Hủy")]),a("td",[t._v("Chi tiết")]),a("td",[t._v("Đánh giá")])])])}],i=s("cde1"),o=s("fbfb"),c={name:"GetBooks",data(){return{listBooks:"",isSearch:!1,search:"",totalBook:""}},created(){this.isSearch=!1,this.getBooksAll(1)},methods:{getBooksApproved(){this.isSearch=!1,i["a"].callApi(o["d"].LIST_BOOK_APPROVED,"GET",{}).then(t=>{this.listBooks=t.data.data}).catch(()=>{})},getBooksDenied(){this.isSearch=!1,i["a"].callApi(o["d"].LIST_BOOK_DENIED,"GET",{}).then(t=>{this.listBooks=t.data.data}).catch(()=>{})},getBooksWaiting(){this.isSearch=!1,i["a"].callApi(o["d"].LIST_BOOK_WAITING,"GET",{}).then(t=>{this.listBooks=t.data.data}).catch(()=>{})},HandleApproved(t){const a=o["d"].APPROVED_BOOK+t;i["a"].callApi(a,"PUT",{}).then(t=>{"SUCCESS"===t.data.message&&this.getBooksAll(1)}).catch(()=>{alert("Duyệt không thành công!")})},HandleDenied(t){const a=o["d"].DENIED_BOOK+t;i["a"].callApi(a,"PUT",{}).then(t=>{"SUCCESS"===t.data.message&&this.getBooksAll(1)}).catch(()=>{alert("Hủy không thành công!")})},getBooksAll(t){if(this.isSearch){window.scrollTo(0,0);const a=o["d"].SEARCH_BOOK+t;i["a"].callApi(a,"POST",{search:this.search}).then(t=>{this.listBooks=t.data.data,this.totalBook=t.data.numberOfRecords}).catch(()=>{})}else{window.scrollTo(0,0);const a=o["d"].LIST_BOOK+t;i["a"].callApi(a,"GET",{}).then(t=>{this.listBooks=t.data.data,this.totalBook=t.data.numberOfRecords}).catch(()=>{})}},HandleSearch(){return this.search?this.isSearch=!0:this.isSearch=!1,this.getBooksAll(1)}}},l=c,r=(s("535b"),s("2877")),d=Object(r["a"])(l,n,e,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-01ee832a.d42b265c.js.map