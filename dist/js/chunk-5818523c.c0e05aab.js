(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5818523c"],{"482f":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"dialog"},[e("div",{staticClass:"dialogContent"},[e("b-button",{staticClass:"spinner",attrs:{disabled:""}},[e("b-spinner")],1)],1)])},i=[],o={name:"LoadingDialog",props:["show","cancel","confirm"]},n=o,r=(s("ef67"),s("2877")),l=Object(r["a"])(n,a,i,!1,null,"764a15da",null);e["a"]=l.exports},5300:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("Layout",[e("main",{staticStyle:{"flex-grow":"1"}},[e("LoadingDialog",{directives:[{name:"show",rawName:"v-show",value:t.spinner,expression:"spinner"}],staticStyle:{"z-index":"999"}}),e("div",{staticClass:"myFVR"},[e("div",{staticClass:"containerMF"},[e("div",{staticClass:"left-contentMF"},[e("SideBar_Personal")],1),e("div",{staticClass:"right-contentMF"},[e("div",{staticClass:"titleMT"},[t._v("DANH SÁCH YÊU THÍCH")]),e("hr"),e("b-card",{staticClass:"background-tab",attrs:{card:""}},[e("b-tabs",{attrs:{"active-nav-item-class":"font-weight-bold","active-tab-class":"font-weight-bold","content-class":"mt-3"}},[e("b-tab",{attrs:{title:"Sách",active:""}},[e("div",{staticClass:"search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchBook,expression:"searchBook"}],attrs:{type:"text",placeholder:"Nhập tiêu đề sách"},domProps:{value:t.searchBook},on:{input:function(e){e.target.composing||(t.searchBook=e.target.value)}}}),e("button",[t._v("Tìm")])]),e("b-skeleton-wrapper",{attrs:{loading:t.loading},scopedSlots:t._u([{key:"loading",fn:function(){return[e("div",{staticClass:"gridMB"},t._l(6,(function(t){return e("div",{key:t,staticClass:"itemMB"},[e("b-card",{staticStyle:{height:"450px"},attrs:{"no-body":"","img-top":""}},[e("b-skeleton-img",{attrs:{"card-img":"top",aspect:"3:1",height:"290px"}}),e("b-card",{staticStyle:{height:"170px"}},[e("b-skeleton",{attrs:{animation:"wave",width:"85%"}}),e("b-skeleton",{attrs:{animation:"wave",width:"55%"}}),e("b-skeleton",{attrs:{animation:"wave",width:"70%"}}),e("b-skeleton",{attrs:{animation:"wave",width:"85%"}}),e("b-skeleton",{attrs:{animation:"wave",width:"55%"}}),e("b-skeleton",{attrs:{animation:"wave",width:"70%"}})],1)],1)],1)})),0)]},proxy:!0}])},[e("div",{staticClass:"gridMB"},t._l(t.listBook,(function(s){return e("div",{key:s.id,staticClass:"itemMB"},[e("router-link",{staticClass:"active",attrs:{to:{name:"BookDetail",query:{id:s.bookId}}}},[e("img",{attrs:{src:s.book.image}})]),e("button",{staticClass:"dislikeBook",on:{click:function(e){return t.HandleUnlikeBook(s.bookId)}}},[e("Icon",{attrs:{icon:"ant-design:dislike-filled"}})],1),e("div",{staticClass:"infoMB"},[e("div",{staticClass:"book-titleMB"},[e("strong",[t._v(t._s(s.book.title))])]),e("div",{staticClass:"book-statusMB"},[t._v("Người đăng: "),e("strong",[t._v(t._s(s.book.user.fullname))])]),e("div",{staticClass:"book-statusMB"},[t._v("Thể loại: "),e("strong",[t._v(t._s(s.book.category.name))])]),e("label",{staticClass:"book-statusMB"},[t._v("Giá bìa: "),e("strong",[t._v(t._s(s.book.coverPrice.toLocaleString())+"đ")])]),e("label",{staticClass:"book-statusMB"},[t._v(t._s(s.book.statusBook))]),"Approved"==s.status?e("label",{staticClass:"book-statusMB"},[t._v("Trạng thái: "),e("strong",{staticStyle:{color:"green"}},[t._v("Đã được duyệt")])]):t._e(),"Denied"==s.status?e("label",{staticClass:"book-statusMB"},[t._v("Trạng thái: "),e("strong",{staticStyle:{color:"red"}},[t._v("Đã bị hủy")])]):t._e(),"Waiting"==s.status?e("label",{staticClass:"book-statusMB"},[t._v("Trạng thái: "),e("strong",[t._v("Đang đợi duyệt")])]):t._e(),s.isTrade?e("label",{staticClass:"book-statusMB",staticStyle:{color:"red","font-weight":"bold"}},[t._v("Đang giao dịch")]):e("label",{staticClass:"book-statusMB",staticStyle:{color:"green","font-weight":"bold"}},[t._v("Sẵn sàng")])])],1)})),0)]),e("div",{staticClass:"pagingMB"},[e("b-pagination",{staticClass:"page-numberMB",attrs:{"total-rows":t.totalBook,"per-page":6},on:{input:t.getBookFavorite},scopedSlots:t._u([{key:"first-text",fn:function(){return[e("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹‹")])]},proxy:!0},{key:"prev-text",fn:function(){return[e("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹")])]},proxy:!0},{key:"next-text",fn:function(){return[e("span",{staticStyle:{color:"#9D6B54"}},[t._v("›")])]},proxy:!0},{key:"last-text",fn:function(){return[e("span",{staticStyle:{color:"#9D6B54"}},[t._v("››")])]},proxy:!0},{key:"page",fn:function({page:s,active:a}){return[a?e("b",{staticStyle:{color:"white"}},[t._v(t._s(s)+" ")]):e("b",{staticStyle:{color:"#9D6B54"}},[t._v(t._s(s))])]}}]),model:{value:t.pageBook,callback:function(e){t.pageBook=e},expression:"pageBook"}})],1)],1),e("b-tab",{attrs:{title:"Bài Đăng"}},[e("div",{staticClass:"search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchPost,expression:"searchPost"}],attrs:{type:"text",placeholder:"Nhập tiêu đề bài đăng"},domProps:{value:t.searchPost},on:{input:function(e){e.target.composing||(t.searchPost=e.target.value)}}}),e("button",[t._v("Tìm")])]),e("b-skeleton-wrapper",{attrs:{loading:t.loading},scopedSlots:t._u([{key:"loading",fn:function(){return[e("div",{staticClass:"gridPostLike"},t._l(5,(function(t){return e("div",{key:t,staticClass:"itemPostLike"},[e("b-card",{staticStyle:{height:"140px"},attrs:{"no-body":"","img-left":""}},[e("b-skeleton-img",{attrs:{"card-img":"left",width:"140px"}}),e("b-card",{staticStyle:{width:"850px",height:"140px"}},[e("b-skeleton",{attrs:{animation:"wave",width:"85%"}}),e("b-skeleton",{attrs:{animation:"wave",width:"55%"}}),e("b-skeleton",{attrs:{animation:"wave",width:"70%"}}),e("b-skeleton",{attrs:{animation:"wave",width:"85%"}}),e("b-skeleton",{attrs:{animation:"wave",width:"55%"}}),e("b-skeleton",{attrs:{animation:"wave",width:"70%"}})],1)],1)],1)})),0)]},proxy:!0}])},[e("div",{staticClass:"gridPostLike"},t._l(t.listPost,(function(s){return e("div",{key:s.id,staticClass:"itemPostLike"},[e("router-link",{attrs:{to:{name:"PostDetail",query:{id:s.postId}}}},[e("img",{staticClass:"post-image",attrs:{src:s.post.image}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"post-title"},[t._v(t._s(s.post.title))]),e("label",{staticClass:"post-content"},[t._v("Tác giả: "),e("strong",[t._v(t._s(s.post.user.fullname))])]),e("label",{staticClass:"post-content"},[t._v("Ngày đăng: "),e("strong",[t._v(t._s(t._f("formatDate")(s.post.createdDate)))])]),"Approved"==s.status?e("label",{staticClass:"post-content"},[t._v("Trạng thái: "),e("strong",[t._v("Đã được duyệt")])]):t._e(),"Denied"==s.status?e("label",{staticClass:"post-content"},[t._v("Trạng thái: "),e("strong",[t._v("Đã bị hủy")])]):t._e(),"Waiting"==s.status?e("label",{staticClass:"post-content"},[t._v("Trạng thái: "),e("strong",[t._v("Đang đợi duyệt")])]):t._e(),e("label",{staticClass:"post-content"},[t._v(t._s(s.post.content))])]),e("div",{staticClass:"gr-btn"},[e("button",{staticClass:"item-btn",on:{click:function(e){return t.HandleUnlikePost(s.postId)}}},[e("Icon",{attrs:{icon:"ant-design:dislike-filled"}})],1)])],1)})),0)]),e("div",{staticClass:"pagingMB"},[e("b-pagination",{staticClass:"page-numberMB",attrs:{"total-rows":t.totalPost,"per-page":5},on:{input:t.getPostFavorite},scopedSlots:t._u([{key:"first-text",fn:function(){return[e("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹‹")])]},proxy:!0},{key:"prev-text",fn:function(){return[e("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹")])]},proxy:!0},{key:"next-text",fn:function(){return[e("span",{staticStyle:{color:"#9D6B54"}},[t._v("›")])]},proxy:!0},{key:"last-text",fn:function(){return[e("span",{staticStyle:{color:"#9D6B54"}},[t._v("››")])]},proxy:!0},{key:"page",fn:function({page:s,active:a}){return[a?e("b",{staticStyle:{color:"white"}},[t._v(t._s(s)+" ")]):e("b",{staticStyle:{color:"#9D6B54"}},[t._v(t._s(s))])]}}]),model:{value:t.pagePost,callback:function(e){t.pagePost=e},expression:"pagePost"}})],1)],1),e("b-tab",{attrs:{title:"Người Dùng"}},[e("div",{staticClass:"search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchUser,expression:"searchUser"}],attrs:{type:"text",placeholder:"Nhập tên hoặc SĐT"},domProps:{value:t.searchUser},on:{input:function(e){e.target.composing||(t.searchUser=e.target.value)}}}),e("button",[t._v("Tìm")])]),e("b-skeleton-wrapper",{attrs:{loading:t.loading},scopedSlots:t._u([{key:"loading",fn:function(){return[e("div",{staticClass:"gridUser"},t._l(8,(function(t){return e("div",{key:t,staticClass:"itemUser"},[e("b-card",{staticStyle:{height:"250px"},attrs:{"no-body":"","img-top":""}},[e("b-skeleton",{staticStyle:{"margin-left":"20px"},attrs:{type:"avatar",height:"140px",width:"140px"}}),e("b-card",{staticStyle:{height:"110px"}},[e("b-skeleton",{attrs:{animation:"wave",width:"85%"}}),e("b-skeleton",{attrs:{animation:"wave",width:"55%"}}),e("b-skeleton",{attrs:{animation:"wave",width:"70%"}})],1)],1)],1)})),0)]},proxy:!0}])},[e("div",{staticClass:"gridUser"},t._l(t.listUser,(function(s){return e("div",{key:s.id,staticClass:"itemUser"},[e("router-link",{staticClass:"active",attrs:{to:{name:"OtherPerson",query:{id:s.favoriteUserId}}}},[e("img",{attrs:{src:s.favoriteUser.avatar}})]),e("div",{staticClass:"itemUserInfo"},[e("div",{staticClass:"username"},[e("strong",[t._v(t._s(s.favoriteUser.fullname))])]),e("div",{staticClass:"username"},[t._v(t._s(s.favoriteUser.likeNumber)+" người thích")]),e("div",{staticClass:"username"},[t._v(t._s(s.favoriteUser.numberOfTransaction)+" lần giao dịch")]),e("button",{staticClass:"dislikeUser",on:{click:function(e){return t.HandleUnlikeUser(s.favoriteUserId)}}},[e("Icon",{attrs:{icon:"ant-design:dislike-filled"}})],1)])],1)})),0)]),e("div",{staticClass:"pagingMB"},[e("b-pagination",{staticClass:"page-numberMB",attrs:{"total-rows":t.totalUser,"per-page":8},on:{input:t.getUserFavorite},scopedSlots:t._u([{key:"first-text",fn:function(){return[e("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹‹")])]},proxy:!0},{key:"prev-text",fn:function(){return[e("span",{staticStyle:{color:"#9D6B54"}},[t._v("‹")])]},proxy:!0},{key:"next-text",fn:function(){return[e("span",{staticStyle:{color:"#9D6B54"}},[t._v("›")])]},proxy:!0},{key:"last-text",fn:function(){return[e("span",{staticStyle:{color:"#9D6B54"}},[t._v("››")])]},proxy:!0},{key:"page",fn:function({page:s,active:a}){return[a?e("b",{staticStyle:{color:"white"}},[t._v(t._s(s)+" ")]):e("b",{staticStyle:{color:"#9D6B54"}},[t._v(t._s(s))])]}}]),model:{value:t.pageUser,callback:function(e){t.pageUser=e},expression:"pageUser"}})],1)],1)],1)],1)],1)])])],1)])},i=[],o=s("2314"),n=s("ebad"),r=s("cde1"),l=s("fbfb"),c=s("48ac"),d=s.n(c),u=s("5ea9"),p=s("482f"),g={name:"MyFavorites",components:{SideBar_Personal:o["a"],Layout:n["a"],Icon:u["a"],LoadingDialog:p["a"]},data(){return{loading:!1,searchBook:"",isSearchBook:!1,pageBook:1,listBook:"",totalBook:"",searchPost:"",isSearchPost:!1,pagePost:1,listPost:"",totalPost:"",searchUser:"",isSearchUser:!1,pageUser:1,listUser:"",totalUser:"",spinner:!1}},created(){this.getBookFavorite(1),this.getPostFavorite(1),this.getUserFavorite(1)},methods:{getBookFavorite(t){this.loading=!0;let e=this.$cookies.get("token");this.userByToken=d.a.decode(e,"utf-8"),r["a"].callApi(l["j"].LIST_BOOK_FAVORITE+"?page="+t,"POST",{userId:this.userByToken.UserId}).then(e=>{this.listBook=e.data.data,this.totalBook=e.data.numberOfRecords,this.pageBook=t,this.loading=!1}).catch(()=>{})},getPostFavorite(t){let e=this.$cookies.get("token");this.userByToken=d.a.decode(e,"utf-8"),r["a"].callApi(l["j"].LIST_POST_FAVORITE+"?page="+t,"POST",{userId:this.userByToken.UserId}).then(e=>{this.listPost=e.data.data,this.totalPost=e.data.numberOfRecords,this.pagePost=t}).catch(()=>{})},getUserFavorite(t){let e=this.$cookies.get("token");this.userByToken=d.a.decode(e,"utf-8"),r["a"].callApi(l["j"].LIST_USER_FAVORITE+"?page="+t,"POST",{userId:this.userByToken.UserId}).then(e=>{this.listUser=e.data.data,this.totalUser=e.data.numberOfRecords,this.pageUser=t}).catch(()=>{})},HandleUnlikeBook(t){this.spinner=!0;let e=this.$cookies.get("token");this.userByToken=d.a.decode(e,"utf-8"),r["a"].callApi(l["j"].DELETE_BOOK_FAVORITE+t,"DELETE",{userId:this.userByToken.UserId}).then(t=>{"DELETE_SUCCESS"==t.data.message&&(this.getBookFavorite(this.pageBook),this.spinner=!1)}).catch(()=>{})},HandleUnlikePost(t){this.spinner=!0;let e=this.$cookies.get("token");this.userByToken=d.a.decode(e,"utf-8"),r["a"].callApi(l["j"].DELETE_POST_FAVORITE+t,"DELETE",{userId:this.userByToken.UserId}).then(t=>{"DELETE_SUCCESS"==t.data.message&&(this.getPostFavorite(this.pagePost),this.spinner=!1)}).catch(()=>{})},HandleUnlikeUser(t){this.spinner=!0;let e=this.$cookies.get("token");this.userByToken=d.a.decode(e,"utf-8"),r["a"].callApi(l["j"].DELETE_USER_FAVORITE+t,"DELETE",{userId:this.userByToken.UserId}).then(t=>{"DELETE_SUCCESS"==t.data.message&&(this.getUserFavorite(this.pageUser),this.spinner=!1)}).catch(()=>{})}},filters:{formatDate(t){return new Date(t).toLocaleString("en-GB")}}},v=g,h=(s("ef58"),s("2877")),k=Object(h["a"])(v,a,i,!1,null,null,null);e["default"]=k.exports},ae8c:function(t,e,s){},e2d7:function(t,e,s){},ef58:function(t,e,s){"use strict";s("e2d7")},ef67:function(t,e,s){"use strict";s("ae8c")}}]);
//# sourceMappingURL=chunk-5818523c.c0e05aab.js.map